{"componentChunkName":"component---src-templates-blog-post-js","path":"/wso2-api-manager-auth0-sso/content/","result":{"data":{"site":{"siteMetadata":{"title":"StackCheats","author":"Athiththan Kathirgamasegaran"}},"mdx":{"id":"c8726053-d4d1-5f73-abbd-87030e3c2ecd","excerpt":"Greetings Everyone!!! ðŸ‘‹ In this medium, we will be walking through how to configure OIDC SSO between WSO2 API Manager and Auth0. We will be using the WSO2 APIâ€¦","frontmatter":{"title":"WSO2 API Manager & Auth0 OIDC SSO","date":"February 21, 2022","intro":"Configure OIDC SSO between WSO2 API Manager v4.0.0 & Auth0","tags":["wso2","wso2-api-manager","sso","openid-connect","auth0"],"seo":"A guide configuring OIDC SSO flow between Auth0 and WSO2 API Manager","medium":"https://athiththan11.medium.com/wso2-api-manager-auth0-oidc-sso-6c9a6fa5b85e"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"WSO2 API Manager & Auth0 OIDC SSO\",\n  \"date\": \"2022-02-21\",\n  \"intro\": \"Configure OIDC SSO between WSO2 API Manager v4.0.0 & Auth0\",\n  \"short\": \"Configure OIDC SSO with Auth0\",\n  \"medium\": \"https://athiththan11.medium.com/wso2-api-manager-auth0-oidc-sso-6c9a6fa5b85e\",\n  \"tags\": [\"wso2\", \"wso2-api-manager\", \"sso\", \"openid-connect\", \"auth0\"],\n  \"seo\": \"A guide configuring OIDC SSO flow between Auth0 and WSO2 API Manager\",\n  \"cover\": \"cover.png\",\n  \"bgcolor\": \"#d0e0e3\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"Greetings-Everyone-\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#Greetings-Everyone-\",\n    \"aria-label\": \"Greetings Everyone  permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Greetings Everyone!!! \\uD83D\\uDC4B\"), mdx(\"p\", null, \"In this medium, we will be walking through how to configure OIDC SSO between WSO2 API Manager and Auth0.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"We will be using the WSO2 API Manager v4.0.0 for this demo\")), mdx(\"p\", null, \"Let\\u2019s break in\\u2026\"), mdx(\"h2\", {\n    \"id\": \"-Auth0\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-Auth0\",\n    \"aria-label\": \" Auth0 permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83D\\uDD10 Auth0\"), mdx(\"p\", null, \"Before continuing with the SSO configurations in the WSO2 API Manager, there are a few configurations and rules that need to be added to the Auth0 platform to experience the expected outcome.\"), mdx(\"p\", null, \"If you already have an Auth0 account, you can move on to the next steps, if you are not, then navigate to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://auth0.com/\"\n  }, \"Auth0\"), \" (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://auth0.com\"), \") and register for a trial account to continue with this demo.\"), mdx(\"h3\", {\n    \"id\": \"-OIDC-Client-Registration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-OIDC-Client-Registration\",\n    \"aria-label\": \" OIDC Client Registration permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B OIDC Client Registration\"), mdx(\"p\", null, \"Let\\u2019s start by creating and configuring an Application in Auth0.\"), mdx(\"p\", null, \"Once you have successfully logged in to the Auth0 dashboard, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Applications\"), \" menu from the side-bar and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Applications\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create Application\"), \". Fill the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"WSO2APIM\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Choose an application type: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Regular Web Applications\"))), mdx(\"p\", null, \"and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create\"), \".\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/32063a5379c902067ae3ccab6d43b70e/78d47/auth0_create_application.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"89.86486486486487%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVQ4y5VTTW/UMBDNb+fCvQd+Q8WNCweOSFxBqlREVUBL9iPJhjhObMffNm/idstChZbRbmLP+M08v5lUKaVl0fipZVFKOefyBRZCALCKMR2P/aFp63q32+3nWVwC1toAD3Cc+JRiPAXSBVZOVvhzPrVttywLEiFfvMAeaNOdtcZtpVRC0lOpRUqJXJJMrWv9NyGqDMLTNM/TzMdx5BzIs8slgPDIj0zPjCp7763zXLti8BhjQ/AxJCGykV4xiZxSUh7rg3d+TZhJbbw+fvr8+sMNVQIm57fv3g9fv2CLxvFjc339xoekNZ28u7n9fuiLrlVhzwbGenJBDLBoj72YJgCsSdLamsngvdYUVWJWxj2pHUOEPEJKaEiJ2PhjUzddZ623JndNs91sIKO1IOLv7r81TfsEdtZhPOp6C+VWqg5hxhh6bwxyDdhCdqyhBdYDheIDGIK1XYcJw4m17Xy/bw6HxhpEsB3r7c6SESn4UamcrMrVS1cLbVTGkMKDQUA16yy2COHOmEpMFHpKmU7gWQh4qRD0DgFI710MRFsIMbDRr4IhBOZrIx9pF3wpG38bcjgAAAyTE0jU8+k5VT6l+OPDAHjVibKA6TrU4Wefuo4+pSr/j3Ey8eoqv3yB6+QqPTu1/zQp8zzTtP8C2AcX3sM1W/sAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Auth0 Create Application\",\n    \"title\": \"Auth0 Create Application\",\n    \"src\": \"/static/32063a5379c902067ae3ccab6d43b70e/6d370/auth0_create_application.png\",\n    \"srcSet\": [\"/static/32063a5379c902067ae3ccab6d43b70e/c5084/auth0_create_application.png 148w\", \"/static/32063a5379c902067ae3ccab6d43b70e/60cc9/auth0_create_application.png 295w\", \"/static/32063a5379c902067ae3ccab6d43b70e/6d370/auth0_create_application.png 590w\", \"/static/32063a5379c902067ae3ccab6d43b70e/78d47/auth0_create_application.png 800w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"On the next page, move to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Settings\"), \" tab view, and provide the following inputs\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Allowed Callback URLs: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://localhost:9443/commonauth\"))), mdx(\"p\", null, \"and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Save Changes\"), \".\"), mdx(\"p\", null, \"Next, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Advanced Settings\"), \", and move to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Endpoints\"), \" tab to gather all OIDC related endpoints of the Auth0 application to configure with the WSO2 API Manager.\"), mdx(\"h3\", {\n    \"id\": \"-User-Registration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-User-Registration\",\n    \"aria-label\": \" User Registration permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B User Registration\"), mdx(\"p\", null, \"We have now, successfully configured an application in Auth0 for our OIDC SSO flow. Next, we\\u2019ll register a demo user and a role in the Auth0 platform.\"), mdx(\"p\", null, \"Expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User Management\"), \" menu from the sidebar and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Users\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create User\"), \". Create a user with the following details\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Email: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"demouser@auth0.com\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Connection: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Username-Password-Authentication\"))), mdx(\"p\", null, \"and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create\"), \".\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/abdf89db3c228be61d450e4b67f7a4f0/0f09e/auth0_new_user.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"86.48648648648648%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVQ4y52TwU7EIBCG9329+D4eTDz4KCa+gNF1N2vioQVaaAtlKXQGpy3VvehS/0wJpPPBzwC7GKOUqiwZF1Vdy5ghADCmp86OPq0NI3YDjM65BEulrLWXv/GalrQJZrV9PYm3k3g5FPsP8cl70SFv4bdgDSgDCbYuNN1ZdVa1ttVO22AH/Ducx9W2lCVj5x/nmBGrbe992+lOGyojIAJeFyUmeEZwafOVYM5FUUwnzUoGIeCmas+2O7I9jiPkiTITPDMI479sN01LthulYiYHyfgE012jbVdVTQ1dUurRkHFu+n4p5KUwEjqG4BO8ya0fkOYchtV25mMQlbRWPz7E25t4fxc3wLSmcwNAOB7i81N838/w96FtFYFfr9nl0u2nAtwAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Auth0 New User\",\n    \"title\": \"Auth0 New User\",\n    \"src\": \"/static/abdf89db3c228be61d450e4b67f7a4f0/6d370/auth0_new_user.png\",\n    \"srcSet\": [\"/static/abdf89db3c228be61d450e4b67f7a4f0/c5084/auth0_new_user.png 148w\", \"/static/abdf89db3c228be61d450e4b67f7a4f0/60cc9/auth0_new_user.png 295w\", \"/static/abdf89db3c228be61d450e4b67f7a4f0/6d370/auth0_new_user.png 590w\", \"/static/abdf89db3c228be61d450e4b67f7a4f0/0f09e/auth0_new_user.png 640w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"On the next view, edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Name\"), \" field and provide \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Demo User\"), \" as the value.\"), mdx(\"p\", null, \"Next, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User Management\"), \" from the side navigation bar and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Roles\"), \" to create a role in the Auth0 platform. Click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create Role\"), \" and add the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"subscriber\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Description: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Subscriber Role to Login to the Devportal\"))), mdx(\"p\", null, \"and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create\"), \".\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/c7fbfe76b66bfd15b6a6690cf8c63d28/0f09e/auth0_new_role.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"56.75675675675676%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyElEQVQoz52RQQ6CMBBFObIbz+PCuPAOxkuo8QZAWui4KFiYwvgpJRoTk+IPJdOBN/0zzUREKV2UZZ4XzCwJGobB2gZBhlUb0rpSukqGR+dchImosRbBmKy5ygSjTF0bYwh+EmH8GWFEznV9z+MaRRhnYlpkTOxpcbXsfhqf4LZtMbD5IXpUFXogvJXWFrMIJj+FhPf+bRub+YMPCkFMfg0JCWaUW2wn3i3sPJ09HmS7kf1OVsA4Gd0xd/ebnE9yvQQY1uQvAXwB6yyGqIBG33YAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Auth0 New Role\",\n    \"title\": \"Auth0 New Role\",\n    \"src\": \"/static/c7fbfe76b66bfd15b6a6690cf8c63d28/6d370/auth0_new_role.png\",\n    \"srcSet\": [\"/static/c7fbfe76b66bfd15b6a6690cf8c63d28/c5084/auth0_new_role.png 148w\", \"/static/c7fbfe76b66bfd15b6a6690cf8c63d28/60cc9/auth0_new_role.png 295w\", \"/static/c7fbfe76b66bfd15b6a6690cf8c63d28/6d370/auth0_new_role.png 590w\", \"/static/c7fbfe76b66bfd15b6a6690cf8c63d28/0f09e/auth0_new_role.png 640w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Users\"), \" tab, and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add Users\"), \". Select the user that we registered previously and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Assign\"), \" to assign the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"subscriber\"), \" role to our user.\"), mdx(\"h3\", {\n    \"id\": \"-Rules-to-add-Roles\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Rules-to-add-Roles\",\n    \"aria-label\": \" Rules to add Roles permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Rules to add Roles\"), mdx(\"p\", null, \"As the next step, we are going to create a Rule in the Auth0 to include the Role details of the User in the ID token. To perform this, navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Auth Pipeline\"), \" section and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Rules\"), \".\"), mdx(\"p\", null, \"Click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create\"), \" and select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Empty Rule\"), \" and provide the following as inputs\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Name: Add Roles to User ID Token\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Script\", mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function addRoles(user, context, callback) {\\n    const namespace = 'http://sample.net';\\n    const assignedRoles = (context.authorization || {}).roles;\\n    \\n    let idTokenClaims = context.idToken || {};\\n    let accessTokenClaims = context.accessToken || {};\\n    \\n    idTokenClaims[`${namespace}/roles`] = assignedRoles;\\n    accessTokenClaims[`${namespace}/roles`] = assignedRoles;\\n    \\n    context.idToken = idTokenClaims;\\n    context.accessToken = accessTokenClaims;\\n    \\n    callback(null, user, context);\\n}\\n\")))), mdx(\"p\", null, \"and Save changes.\"), mdx(\"p\", null, \"The rule will get applied to all necessary flows and applications in the Auth0 platform. With this, we have now completed configuring the Auth0 platform to perform OIDC SSO. Now, let\\u2019s start configuring the other end, WSO2 API Manager.\"), mdx(\"h2\", {\n    \"id\": \"-WSO2-API-Manager\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-WSO2-API-Manager\",\n    \"aria-label\": \" WSO2 API Manager permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83C\\uDF10 WSO2 API Manager\"), mdx(\"p\", null, \"Let\\u2019s start running a WSO2 API Manager v4.0.0 pack locally and then configure the SSO with Auth0 for the Devportal.\"), mdx(\"p\", null, \"If you haven\\u2019t already run a WSO2 API Manager in your environment, download the distribution from \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://wso2.com/api-management/\"\n  }, \"here\"), \" and start the server by executing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sh api-manager.sh\"), \" command from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<apim_home>/bin\"), \" directory.\"), mdx(\"p\", null, \"Once the server is started, navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://localhost:9443/devportal\"), \" and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Sign-in\"), \" to auto-create the Service Provider entries.\"), mdx(\"h3\", {\n    \"id\": \"-Identity-Provider\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Identity-Provider\",\n    \"aria-label\": \" Identity Provider permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Identity Provider\"), mdx(\"p\", null, \"First, let\\u2019s register an Identity Provider in the API Manager server to represent the Auth0.\"), mdx(\"p\", null, \"Open up your favourite browser, go to the Carbon Management console of the API Manager server by hitting to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://localhost:9443/carbon\"), \" and logging in with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"admin\"), \" credentials.\"), mdx(\"p\", null, \"Once logged in, click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add\"), \" under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Identity Providers\"), \" section. Create an IDP with the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Identity Provider Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Auth0\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Display Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Auth0\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Identity Provider\\u2019s JWKS Endpoint: Enter the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"JSON Web Key Set URL\"), \" of the Application, we created in Auth0 (ex: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://dev-.....auth0.com/.well-known/jwks.json\"), \")\")), mdx(\"p\", null, \"Expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Claim Configuration\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Basic Claim Configuration\"), \" and add a Claim Mapping for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"roles\"), \". Select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Define Custom Claim Dialect\"), \" and add the following claim mappings by clicking on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add Claim Mapping\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"http://sample.net/roles\"), \" : \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"http://wso2.org/claims/role\"))), mdx(\"p\", null, \"Next, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Role Configuration\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add Role Mapping\"), \" and add the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"subscriber\"), \" : \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Internal/subscriber\"))), mdx(\"p\", null, \"And choose the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Role Claim URI\"), \" as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://sample.net/roles\"), \".\"), mdx(\"p\", null, \"Then, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Federated Authenticators\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OAuth2/OpenID Connect Configuration\"), \" and perform the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable OAuth2/OpenIDConnect: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Default: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Client ID: Enter the Client ID of the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"WSO2APIM\"), \" Application\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Client Secret: Enter the Client Secret of the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"WSO2APIM\"), \" Application\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Authorization Endpoint URL: Enter the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"OAuth Authorization URL\"), \" captured from Auth0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Token Endpoint URL: Enter the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"OAuth Token URL\"), \" captured from Auth0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Userinfo Endpoint URL: Enter the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"OAuth User Info URL\"), \" captured from Auth0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Additional Query Parameters: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"scope=openid profile email\"))), mdx(\"p\", null, \"Next, expand the Just-in-Time Provisioning section and perform the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Always provision to User Store Domain: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"PRIMARY\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Provision silently: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\"))), mdx(\"p\", null, \"and Register.\"), mdx(\"p\", null, \"Attached below is the IDP configurations of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Auth0\"), \" configured in the WSO2 API Manager server.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/1333130642e93634c0b2419e09327dd9/3643c/auth0_idp_configuration.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"136.48648648648648%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjUlEQVQ4y5VUi46bMBD0//9Xq0ptVZ1a9R5VQgLmYWxjGxtsnukA19xLuUtXI4SBsXdnZyHdGvM8W1srrbUxpq7D+uTDIGBO03Q6ndq2UQsb9BoPT1cECSE0TTOOo1/ICF1VlbX2KrJzDqcNw2Bdw7nARm3rrz0ZtL7vkTkOjOOkKBgSD+E6Mpjgo3pnLSsF51LpWuva+4A3mxwXyVpXeU61ltYqU0ttpFJCKW6MtE6f4d6gtpoYo7I0NqYyjWGcucaMYxjGME7dMIRh8CuWm75vN3R9i2+k5ASJDcOIHEoh7h52jJWQ2rlGCOmaRTofutrWqO2cLWrEFX1ZWrVpW7Li/v4OstVICGVIiTf4bJrmaRo3wmsyY2kUPVAa0XR/jP9k+XEDK6mQGRfpGSV/AhdZQg+kKIp9tJdSMMFyVpa8lBU0qyolcbOhAtQLKC254GRcY0mb82NC4ZmhH4IPWPoA2eZxGOGcZ1k/BnpJhBA4HCcLpJKxvCgBBNxmlqiBbVqeB0SFOqRg8e/br7vdT1lFrTs6e3TuqPVRSlzpJRhDC3YgGCbvMRhdnDXff5mbO3tza6VeOrmKPL0FniNtVE5WDy4FHaj99E1+/lF9uTHGLq/nC658ahWa3LYtdmuskiJjZaa06Lqw7fgxeTMJBDhAbpoVjGtTz/P/kJVWCU2zLFfadH3/zjC9sCfaiEXTuArmWP4lJrz7M3hdM6YancwLBkOtfN1fPvyJDEuhWt+2xujVLVgpeMK/DCQ4/othmbAZk0PyvIiiCJbCDHLOccMuBH8W8GWe56RSOk6SLMvSNMXfq/X+klpI9oxHb9eu3e32YMKx22xfE1AEBidJQkHe76M4oWgVrleCpulf8nAMD7D5RDEAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Auth0 IDP Configuration\",\n    \"title\": \"Auth0 IDP Configuration\",\n    \"src\": \"/static/1333130642e93634c0b2419e09327dd9/6d370/auth0_idp_configuration.png\",\n    \"srcSet\": [\"/static/1333130642e93634c0b2419e09327dd9/c5084/auth0_idp_configuration.png 148w\", \"/static/1333130642e93634c0b2419e09327dd9/60cc9/auth0_idp_configuration.png 295w\", \"/static/1333130642e93634c0b2419e09327dd9/6d370/auth0_idp_configuration.png 590w\", \"/static/1333130642e93634c0b2419e09327dd9/540ae/auth0_idp_configuration.png 885w\", \"/static/1333130642e93634c0b2419e09327dd9/2561a/auth0_idp_configuration.png 1180w\", \"/static/1333130642e93634c0b2419e09327dd9/3643c/auth0_idp_configuration.png 1400w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h3\", {\n    \"id\": \"-Devportal-Service-Provider\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Devportal-Service-Provider\",\n    \"aria-label\": \" Devportal Service Provider permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Devportal Service Provider\"), mdx(\"p\", null, \"Now, let\\u2019s open up the auto-created Devportal Service Provider by going to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Service Providers\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"List\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"apim_devportal\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Edit\"), \".\"), mdx(\"p\", null, \"Expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Local & Outbound Authentication Configuration\"), \" and perform the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Authentication Type: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Federated Authentication\"), \" : \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Auth0\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Assert Identity using mapped local subject identifier: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\"))), mdx(\"p\", null, \"and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Update\"), \".\"), mdx(\"h2\", {\n    \"id\": \"-Voila-\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-Voila-\",\n    \"aria-label\": \" Voila  permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83C\\uDF89 Voila!!! \\uD83C\\uDF89\"), mdx(\"p\", null, \"We have successfully configured OIDC SSO between WSO2 API Manager and Auth0. As the final step, let\\u2019s perform a few testing and verify the flow\"), mdx(\"p\", null, \"Open up your favourite browser and navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://localhost:9443/devportal\"), \". Click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Sign-in\"), \", this will direct you to the Auth0\\u2019s login page to log in with the user that we have created for this demo, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"demouser@auth0.com\"), \". Provide the credentials and proceed with the sign-in flow.\"), mdx(\"p\", null, \"Once the login flow is successful, you will be redirected back to the Devportal\\u2019s page and will be signed in with the user that we have registered in the Auth0, along with the same user provisioned in the WSO2 API Manager side.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Happy Stacking!!!\"), \" \\u270C\\uFE0F\"));\n}\n;\nMDXContent.isMDXComponent = true;"},"sheetViews":null},"pageContext":{"slug":"/wso2-api-manager-auth0-sso/content/","previous":{"id":"dd282726-5240-58fd-a768-566212990693","fields":{"slug":"/saml-bearer-grant-with-wso2-api-manager-identity-server/content/"},"frontmatter":{"title":"SAML Bearer Grant with WSO2 API Manager"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"SAML Bearer Grant with WSO2 API Manager\",\n  \"date\": \"2022-02-04\",\n  \"intro\": \"SAML Bearer Grant with WSO2 API Manager & Identity Server\",\n  \"short\": \"Generate Access Token with SAML Bearer Grant\",\n  \"medium\": \"https://athiththan11.medium.com/saml-bearer-grant-with-wso2-api-manager-identity-server-3a77b7fa017f\",\n  \"tags\": [\"wso2\", \"wso2-api-manager\", \"saml2\", \"oauth2\", \"bearer-grant\"],\n  \"seo\": \"A simple guide configuring and generating Access Token in WSO2 API Manager using SAML Bearer grant\",\n  \"cover\": \"cover.png\",\n  \"bgcolor\": \"#d0e0e3\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"Greetings-Everyone--\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#Greetings-Everyone--\",\n    \"aria-label\": \"Greetings Everyone   permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Greetings Everyone !!! \\uD83D\\uDC4B\"), mdx(\"p\", null, \"In this medium, I will be walking through how to configure and generate an access token in WSO2 API Manager using SAML Bearer Grant flow.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"As to demonstrate the flow and configurations, we will be using WSO2 API Manager v3.2.0 & WSO2 Identity Server v5.10.0\")), mdx(\"p\", null, \"As out-of-the-box, the WSO2 API Manager v3.2.0 supports SAML Bearer grant flow to generate access tokens by providing a valid SAML Assertion to the system.\"), mdx(\"p\", null, \"So, let\\u2019s dive in and start configuring our WSO2 API Manager & Identity Server to perform the SAML Bearer grant \\u2026\"), mdx(\"h2\", {\n    \"id\": \"-WSO2-API-Manager\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-WSO2-API-Manager\",\n    \"aria-label\": \" WSO2 API Manager permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83C\\uDF10 WSO2 API Manager\"), mdx(\"p\", null, \"Let\\u2019s start with configuring the WSO2 API Manager.\"), mdx(\"p\", null, \"As of the first step, we need a Service Provider configured in the API Manager environment to generate access tokens. We can either log in to the Devportal and create an Application to generate tokens or, we can log in to the Carbon Management console of the API Manager server and create a new Service Provider.\"), mdx(\"p\", null, \"For this demonstration, I will be focusing on creating a Service Provider from the Carbon Management console of the API Manager server.\"), mdx(\"h3\", {\n    \"id\": \"-Service-Provider\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Service-Provider\",\n    \"aria-label\": \" Service Provider permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Service Provider\"), mdx(\"p\", null, \"Let\\u2019s log in to the Carbon Management console of the API Manager server by firing up your favourite browser and navigating to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://localhost:9443/carbon\")), mdx(\"p\", null, \"Sign in to the console with the admin credentials. Once logged in, navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Service Providers\"), \" section and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add\"), \".\"), mdx(\"p\", null, \"Configure the Service Provider with the following information\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Service Provider Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"saml-bearer-sp\"))), mdx(\"p\", null, \"and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Register\"), \".\"), mdx(\"p\", null, \"On the next screen, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Inbound Authentication Configuration\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OAuth/OpenID Connect Configuration\"), \" and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Configure\"), \". Make sure, that you have selected the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SAML2\"), \" grant type in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Allowed Grant Types\"), \" and add a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Callback URL\"), \" if you have enabled either \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Code\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Implicit\"), \" grant type. Once done, scroll down and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add\")), mdx(\"p\", null, \"Make a note of the generated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OAuth Client Key\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OAuth Client Secret\"), \" of the Service Provider, as we will be using these credentials when invoking the Token endpoint with SAML Bearer Token grant.\"), mdx(\"p\", null, \"Click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Update\"), \" to save the Service Provider configurations.\"), mdx(\"p\", null, \"Next, we need to configure an Identity Provider in the API Manager server to validate the signature of the SAML Assertion that we are passing.\"), mdx(\"h3\", {\n    \"id\": \"-Identity-Provider\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Identity-Provider\",\n    \"aria-label\": \" Identity Provider permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Identity Provider\"), mdx(\"p\", null, \"Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Identity Providers\"), \" section and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add\"), \" to add a new Identity Provider in the API Manager server.\"), mdx(\"p\", null, \"Configure the Identity Provider with the following inputs\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Identity Provider Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wso2is\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Display Name: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"WSO2 IS\"))), mdx(\"p\", null, \"Expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Federated Authenticators\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SAML2 Web SSO Configuration\"), \" and perform the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable SAML2 Web SSO: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Service Provider Entity ID: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wso2apim\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"(enter the Service Provider Entity ID that you have registered in the IS server)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Identity Provider Entity ID: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wso2is\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"(enter the Identity Provider Entity ID of your IS Server)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SSO URL: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://localhost:9444/samlsso\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"(assuming that the Identity Server is running on a port offset of 1)\"))), mdx(\"p\", null, \"click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Register\")), mdx(\"p\", null, \"In addition to the above configurations, we also need to export the public certificate of the WSO2 Identity Server and import it under the created Identity Provider in the API Manager. This is because, we will be using the WSO2 Identity Server as our SAML provider, therefore the SAML Assertion is going to be signed with the private key of the Identity Server. Hence, in order to verify the signature of the assertion, we need to export and import the public certificate of the WSO2 Identity Server into API Manager.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If you are planning to use any other SAML providers than WSO2 Identity Server, then it is required to import the public certificate of the respective provider in the created Identity Provider\")), mdx(\"p\", null, \"Execute the following command to export the public certificate from the WSO2 Identity Server. Run the commands from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<WSO2_IS_HOME>/repository/resources/security\"), \" directory\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Provide the WSO2 Carbon JKS Keystore password when prompted\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"keytool -export -keystore wso2carbon.jks -alias wso2carbon -file wso2carbon.crt\\n\")), mdx(\"p\", null, \"Now, we have exported the public certificate as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".crt\"), \" format. Execute the following \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"openssl\"), \" command to convert the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".crt\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pem\"), \" format to upload certificate via the UI\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"openssl x509 -inform der -in wso2carbon.crt -out wso2carbon.pem\\n\")), mdx(\"p\", null, \"Now, that we have exported the public certificate of the WSO2 Identity Server as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pem\"), \" format, let\\u2019s upload it via the Carbon Management console. Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Identity Providers\"), \" section in the Carbon Management console of the WSO2 API Manager > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"List\"), \" > and click on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Edit\"), \" of our newly created Identity Provider.\"), mdx(\"p\", null, \"Under Choose IDP certificate type, select Upload IDP certificate and choose the exported public certificate. And click on Update to save the configurations.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"and Done!!!\"), \" \\uD83C\\uDF89 \\uD83C\\uDF89 \\uD83C\\uDF89\"), mdx(\"p\", null, \"We have now configured our WSO2 API Manager to successfully validate the SAML Assertion and to generate an access token using SAML Bearer grant flow.\"), mdx(\"h2\", {\n    \"id\": \"-Test--Verify\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-Test--Verify\",\n    \"aria-label\": \" Test  Verify permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83D\\uDD0D Test & Verify\"), mdx(\"p\", null, \"To try out and verify the SAML Bearer grant flow, let\\u2019s configure our existing API Manager to perform a federated authentication with the Identity Server using SAML SSO.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"This is an extra part of the configuration to acquire a valid SAML Response and Assertion from the WSO2 Identity Server to try out our SAML Bearer grant flow. If you have already acquired a SAML Assertion from the Identity Server using any App integration, then this section is not required for you to follow \\uD83D\\uDE03\")), mdx(\"p\", null, \"If you haven\\u2019t already started a WSO2 Identity Server, start one with a port offset of any desired (I will be using a port offset of 1 for this demonstration).\"), mdx(\"p\", null, \"Let\\u2019s start configuring the WSO2 Identity Server for our SAML SSO\"), mdx(\"h2\", {\n    \"id\": \"-WSO2-Identity-Server\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-WSO2-Identity-Server\",\n    \"aria-label\": \" WSO2 Identity Server permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83D\\uDD10 WSO2 Identity Server\"), mdx(\"h3\", {\n    \"id\": \"-Service-Provider-for-SAML-SSO\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Service-Provider-for-SAML-SSO\",\n    \"aria-label\": \" Service Provider for SAML SSO permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Service Provider for SAML SSO\"), mdx(\"p\", null, \"Open up your favourite browser and navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://localhost:9444/carbon\"), \" and sign in to the Carbon Management console of the Identity Server using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"admin\"), \" credentials.\"), mdx(\"p\", null, \"Go to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Service Providers\"), \" section and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add\"), \". Create a Service Provider named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wso2apim\"), \" and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Register\"), \".\"), mdx(\"p\", null, \"On the next screen, expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Inbound Authentication Configuration\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SAML2 Web SSO Configuration\"), \" and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Configure\"), \".\"), mdx(\"p\", null, \"Fill the form with the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Issuer: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wso2apim\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Assertion Consumer URLs: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://localhost:9443/commonauth\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"(and click on Add to add the URL)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Response Signing: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Signature Validation in Authentication Requests and Logout Requests: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Single Logout: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Attribute Profile: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Include Attributes in the Response Always: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Audience Restriction: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://localhost:9443/oauth2/token\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Recipient Validation: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://localhost:9443/oauth2/token\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Assertion Query Request Profile: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Idp Entity ID Alias: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wso2is\"))), mdx(\"p\", null, \"and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Register\")), mdx(\"p\", null, \"Since we have enabled the Signature validation in authentication requests and log out requests, we have to upload the WSO2 API Manager\\u2019s public certificate to the Service Provider that we have registered.\"), mdx(\"p\", null, \"Execute the following commands from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<WSO2_APIM_HOME>/repository/resources/security\"), \" directory\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Provide the WSO2 Carbon JKS Keystore password when prompted\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"keytool -export -keystore wso2carbon.jks -alias wso2carbon -file wso2carbon.crt\\n\")), mdx(\"p\", null, \"Now, we have exported the public certificate as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".crt\"), \" format. Execute the following \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"openssl\"), \" command to convert the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".crt\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pem\"), \" format to upload certificate via the UI\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"openssl x509 -inform der -in wso2carbon.crt -out wso2carbon.pem\\n\")), mdx(\"p\", null, \"Navigate to the Service Provider that we have registered, and under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Basic\"), \" Information section, select the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Upload SP certificate\"), \" and upload the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pem\"), \" certificate under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Application Certificate\"), \". Once uploaded, click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Update\"), \" to update the configurations.\"), mdx(\"p\", null, \"Now, let\\u2019s move to WSO2 API Manager and configure the API Manager to initiate and perform the SAML2 Web SSO with WSO2 Identity Server from the Devportal.\"), mdx(\"h2\", {\n    \"id\": \"-WSO2-API-Manager-1\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#-WSO2-API-Manager-1\",\n    \"aria-label\": \" WSO2 API Manager 1 permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\uD83C\\uDF10 WSO2 API Manager\"), mdx(\"p\", null, \"As we have already registered an IDP in the API Manager server providing the URLs of the WSO2 IS, let\\u2019s open the same and make a few more adjustments for our SAML Web SSO requirement.\"), mdx(\"h3\", {\n    \"id\": \"-Identity-Provider-wso2is\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Identity-Provider-wso2is\",\n    \"aria-label\": \" Identity Provider wso2is permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Identity Provider: wso2is\"), mdx(\"p\", null, \"Log in to the Carbon Management console of the API Manager server and navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Identity Providers\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"List\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Edit\"), \" the registered \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wso2is\"), \" IDP.\"), mdx(\"p\", null, \"Expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Federated Authenticators\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SAML2 Web SSO Configuration\"), \" and perform the following\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Authentication Request Signing: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Assertion Signing: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Logout Request Signing: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable Authentication Response Signing: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Signature Algorithm: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"RSA with SHA1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Digest Algorithm: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"MD5\"))), mdx(\"p\", null, \"click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Update\"), \".\"), mdx(\"p\", null, \"Next, we\\u2019ll configure the Devportal\\u2019s Service Provider to perform a Federated Authentication with WSO2 Identity Server.\"), mdx(\"h3\", {\n    \"id\": \"-Service-Provider-1\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#-Service-Provider-1\",\n    \"aria-label\": \" Service Provider 1 permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u270B Service Provider\"), mdx(\"p\", null, \"Navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Service Providers\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"List\"), \". Select and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Edit\"), \" the Service Provider that is registered for the Devportal, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"apim_devportal\"), \".\"), mdx(\"p\", null, \"Expand the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Local & Outbound Authentication Configuration\"), \" and tick the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Federated Authentication\"), \" and select the registered IDP from the list, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wso2is\"), \". Click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Update\"), \" and save the configurations.\"), mdx(\"p\", null, \"Let\\u2019s make the configurations work!! \", mdx(\"br\", null), \"\\nOpen up the browser, and install the SAML Tracer extension to capture the SAML Responses while performing the SAML SSO. After installing the extension, hit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://localhost:9443/devportal\"), \" to go to Devportal. Click on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SIGN-IN\"), \" button at the top-right corner.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Please make sure that the SAML Tracer extension is started and listening to the SAML transactions made in the browser.\")), mdx(\"p\", null, \"This will take you to the WSO2 Identity Server\\u2019s login page, as you will be able to see and confirm the behaviour by inspecting the URLs in the browser. Sign in with your user\\u2019s credential and capture the successful SAML Response using the SAML Tracer.\"), mdx(\"p\", null, \"Given below is a screenshot of the SAML Tracer and the SAML Response captured\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/b03a2223d48422420282c000b4e80e2b/4a2a8/saml_tracer_extension.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"78.37837837837837%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADa0lEQVQ4y62Sz2/jRBTHLXFE4uQTXFZmD4gLIhFwWK5Ie0RaetmqB8QfwAlVCCFxQYgLywEJaVu1Iqp2K9I2AkGbpWGXpmRTJ3HiH0kaO7aTOL+cNI4TO9mmScePGTeptndG+uj7ffNm3rOfTVHUV1Qx8/R1TmFvyxWdMeoaA+d5BmYY+4TpVTJMguOZlMAzf8WPmMPjOMMKOSYtiUxKFK6QhDcxt36LHrxCffnNz6+pBS5TbpSnjU5voDY7zp+FobMnDJ1fEk3nCac5p3LJUfSKYzRbTr3ddqyh49juCOPOGbl4bxg9jL1N3bt3hy7VeN3oFkGuxUGpJeFEYeHfUhISmgRCS4W6pcN08gLAQxgPAKE5l3MQXE4vILK7E6Q+uXuLPjOL8sguQM94ctlvxJDTiiG3HUOjzjEatOPIaieQ02GRjZX4XvMZslpxZJvPfYbdlNcr7XmhB58HqHc/eoeumVWl0a9BtppCQj0LQj0H2VoGkwbeSANXZUHpnsL4woFzzIuLIYwnQ+xdgjeZjsAZWfDocShI3b77Fl1sKUrRUuGweoye1hLwj5GEeO0EjvDrH1WTcGyw8LyegWSdgwRukGrkMFlIN3nINAUv184Dj/13D78NUh/eeZ9+FC8pEVaHX5+l0eO/0xBJyvC72Ie93BlEBAsifM9nJ9fBmLAj9DE27IoDgrcrOmDIafhj7esg9dnHH9Ddlq70OjU40zk0xk/h4u6uKcHYFHx12+KVmnO1DHDtFrj9JlbTI35sVWFn62GQWl75lDYkXbG659Doj1DftuGsZ8FgMADXdWE2m+GP6N3kcjZnCmg29TzsJ5MJhMP4Ky/fv0/zR5yiCzJUdBWVywqoqgrlchlkWQZN00DX9Wtd5FRVw3sk1jxtnt/c3MQFl5fpnMgr+OeFQqGAJEmCfD4PRHHsk89LsNhf5F7yHlFybn19/apgKpVS8pKf9AsWi0UQRfH6EjlMYsLLDedNvcUdv+DS0hLNsuwpz/OAucDMBEGYcRx3TSaT8SE+m83e2Mc6JZ7cW1tbC1ArKys07mySuSiK4lOpVKBarfozI34xvwVkjou5LnLk3MbGxntUIBB4NRQKfbG9vf3T1tbWD+Fw+EE0GvU5ODi49oT9/f0bMcnP+TEWi32/urr6BkUWAPwvkPUfWycFE5L4Wy8AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"SAML Tracer Extension with sample SAML Response\",\n    \"title\": \"SAML Tracer Extension with sample SAML Response\",\n    \"src\": \"/static/b03a2223d48422420282c000b4e80e2b/6d370/saml_tracer_extension.png\",\n    \"srcSet\": [\"/static/b03a2223d48422420282c000b4e80e2b/c5084/saml_tracer_extension.png 148w\", \"/static/b03a2223d48422420282c000b4e80e2b/60cc9/saml_tracer_extension.png 295w\", \"/static/b03a2223d48422420282c000b4e80e2b/6d370/saml_tracer_extension.png 590w\", \"/static/b03a2223d48422420282c000b4e80e2b/540ae/saml_tracer_extension.png 885w\", \"/static/b03a2223d48422420282c000b4e80e2b/4a2a8/saml_tracer_extension.png 912w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Next, copy the raw SAML Response from the SAML Tracer extension (from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Parameters\"), \" tab and not \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SAML tab\"), \") and Base64 decode it.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Do not perform any prettifying or beautifying process on the XML response. If the XML response is prettified, you might encounter unmarshalling errors and unexpected behaviours when trying to generate the Access Token\")), mdx(\"p\", null, \"Extract the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"saml2:Assertion\"), \" content (including the opening and closing tags: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<saml2:Assertion ...>\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"</saml2:Assertion>\"), \") from the decoded content and Base64 URL encode it. As of final step, let\\u2019s prepare the Token request with the required inputs\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"CLIENT_ID: The OAuth Client Key copied from the saml-bearer-sp\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"CLIENT_SECRET: The OAuth Client Secret copied from the saml-bearer-sp\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ENCODED_SAML_ASSERTION: The SAML Assertion section that is extracted from the SAML Response and Base64 URL encoded\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"curl -u <CLIENT_ID>:<CLIENT_SECRET> \\\\ \\n-X POST https://localhost:8243/token \\\\\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\\\\n--data-urlencode 'grant_type=urn:ietf:params:oauth:grant-type:saml2-bearer' \\\\\\n--data-urlencode 'assertion=<ENCODED_SAML_ASSERTION>' \\\\\\n-k\\n\")), mdx(\"p\", null, \"and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"HIT\"), \"!!! \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"(make sure you hit the request prior to the expiration of the SAML Assertion, else, you will get an error indicating that the assertion is not valid).\")), mdx(\"h2\", {\n    \"id\": \"Voila-\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#Voila-\",\n    \"aria-label\": \"Voila  permalink\",\n    \"className\": \"header-permlink before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Voila!!! \\uD83C\\uDF89\"), mdx(\"p\", null, \"We have now successfully configured our environments and performed the SAML Bearer Grant and generated an Access Token from the API Manager using the SAML Assertion acquired from the WSO2 Identity Server.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Happy Stacking!!!\"), \" \\uD83D\\uDE03 \\u270C\\uFE0F\"));\n}\n;\nMDXContent.isMDXComponent = true;"},"next":null}},"staticQueryHashes":["2632472463"]}