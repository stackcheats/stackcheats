<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[stackcheats]]></title><description><![CDATA[stackcheats: where cheats get stacked]]></description><link>https://stackcheats.github.io</link><generator>RSS for Node</generator><lastBuildDate>Sun, 08 Sep 2019 11:13:08 GMT</lastBuildDate><item><title><![CDATA[No title]]></title><link>https://stackcheats.github.io/README/</link><guid isPermaLink="false">https://stackcheats.github.io/README/</guid><content:encoded>&lt;br&gt;
&lt;br&gt;
&lt;p align=&quot;center&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block;  max-width: 156px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 63.46153846153847%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADUUlEQVQ4y02Tb0yVZRTAX0Cdfa/NWstkdSGBe8HMFZExVvODEbckGzhzNJpmTS4U/xaQCjKpkBxNuKSQM1nTZYhKfhDoj64NP5T8cUvuvcBlAl0E5F6Q7n3f9/x6wMR7tmfn7Oyc3znP2Tka880agTptUST0hyYzpVH0a5Ha/xKEVeKvyxTfrusyYV+Q6eJa/r1k0cKEf95awVxTBHDfIcqQaUdUeJAEOy1MF1Qyke5i9mXwxYE3FmY3IGOpIfHtaMP/1dsqd9Uy2B0RuQR7IKWwMjh7NANf9jnG0gz8G2FsPfc8cXpw2GqYXpswmqAzuh5mrAqegoy/MShTeeWYvdFLEMeFqshD46xgviKPO5sHmX0ephK5NxRPwJ0QCritpnqibJnzJMjCkBV9xCriteqmN15nIgECqvCdVJjM+Xm5u77xa1+2DzTxV7/dMEYsOiPRMu+JZ9adJH63TcGsiwXwu63cdSdKwGNTI7AIt9eZTCTN4Xv9qjm5t1A7O0RWZofceuYUwcdb0K2nhdyLV+V8T4FMuTYJ3qcJDVkUyMZdVxKLRRhZhzlsYeBmhlT9doLd3WPBhkGylzpr80hCbhf7M9vNKdv3sPYk5mNN8IQTXm29TU1nEwMDb2IoAN61TLteoO16ATsu/i4x3xnmRhWbf54b3ZOBTcvf7b8p22ubZOaDGthSK2ai05DoFoM1x+HRRohpNtlz4QpV3d+ScmaU6AZIrkFyK5GSg7qUVZvBOqf09vwpqZq7U6LPlVN/5F2Mz7JEL8wX88MyyKwWSa43JfaEzpMtsEZ1Evs1kn4A+bjEoKDYkLxSCeXvReqKJXjpRym8MSertb4z5JzMYLgxEb5Ra1atdEU6odI9YjqKRHYdgK01IjkVClKkS36Jae77REKfvgeHX4OGF+HUVob7GmX7w02HiGvHsJ/O5uyxZBacau61z8HBzRhlO1XXDmRfsRiOj0Qvt0P9KwqUjPHDNjp+qeIdlb96kXM0hQitp5HI8AtxdfNsWx6fH9/C384NKjkGDil9OA2c6mCa0xhu380XvT8RF57XVRXGcXeidRQR9b720Kmqrvz1CNtad8plZypzrXaudO0nS/kfeRDzkopvdxB16/L9a6t8SrT/AKQmdzMpvdtvAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;stackcheats icon&quot; title src=&quot;/static/stackcheats-icon-64845f5f929b706c2e78958cef2bb53f-0dd2c.png&quot; srcset=&quot;/static/stackcheats-icon-64845f5f929b706c2e78958cef2bb53f-5a842.png 148w,
/static/stackcheats-icon-64845f5f929b706c2e78958cef2bb53f-0dd2c.png 156w&quot; sizes=&quot;(max-width: 156px) 100vw, 156px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
    &lt;strong&gt;&lt;a href=&quot;https://stackcheats.github.io&quot;&gt;stackcheats.github.io&lt;/a&gt;&lt;/strong&gt;
&lt;/p&gt;
&lt;br&gt;
&lt;h1 align=&apos;center&apos;&gt;stacksheets&lt;/h1&gt;
&lt;p align=&apos;center&apos;&gt;a collection of stories, blogs &amp; cheats used by stackcheats&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;</content:encoded></item><item><title><![CDATA[Configure LDAP as a Secondary User Store]]></title><description><![CDATA[This post illustrates how to add an LDAP user-store as a secondary user-store in WSO2 API Manager (in almost every WSO2 Product). For demo…]]></description><link>https://stackcheats.github.io/Configure-LDAP-as-a-Secondary-User-Store/</link><guid isPermaLink="false">https://stackcheats.github.io/Configure-LDAP-as-a-Secondary-User-Store/</guid><pubDate>Sun, 08 Sep 2019 16:25:00 GMT</pubDate><content:encoded>&lt;p&gt;This post illustrates how to add an LDAP user-store as a secondary user-store in WSO2 API Manager (in almost every WSO2 Product).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For demo purposes, we will be using a pre-configured LDAP user-store which resides in &lt;strong&gt;WSO2 Identity Server&lt;/strong&gt; and shipped by default&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Configure&lt;/h2&gt;
&lt;p&gt;Download both &lt;a href=&quot;https://wso2.com/api-management/&quot;&gt;WSO2 API Manager (2.6.0)&lt;/a&gt; and &lt;a href=&quot;https://wso2.com/identity-and-access-management/&quot;&gt;WSO2 Identity Server (5.7.0)&lt;/a&gt; as binary artifacts from the official download page and follow the given steps to configure port offset on them.&lt;/p&gt;
&lt;h3&gt;WSO2 Identity Server&lt;/h3&gt;
&lt;p&gt;Extract the binary artifact of WSO2 Identity Server and navigate to &lt;code class=&quot;language-text&quot;&gt;[IS]/bin&lt;/code&gt; folder and execute the following command based on your environment to start the server …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;# linux env
./wso2server.sh

# windows env
./wso2server.bat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;WSO2 API Manager&lt;/h3&gt;
&lt;p&gt;Extract the binary artifact of WSO2 API Manager and navigate to [APIM]/repository/conf/carbon.xml to edit the port offset configurations of API Manager.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We will be using the default shipped LDAP user-store of WSO2 Identity Server as the secondary user-store in API Manager. Therefore, we will be running both the server nodes in a single machine. For this reason, we will be port off-setting the API Manager node&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Open and edit the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Offset&amp;gt;&lt;/code&gt; element with the following …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Offset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Offset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Start the server by executing the following command based on your environment&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;# linux env
./wso2server.sh

# windows env
./wso2server.bat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And login to the management console by directing to &lt;a href=&quot;https://localhost:9444/carbon&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://localhost:9444/carbon&lt;/code&gt;&lt;/a&gt; and enter &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; as both the username and password. Next select &lt;code class=&quot;language-text&quot;&gt;Add&lt;/code&gt; under &lt;code class=&quot;language-text&quot;&gt;User Stores&lt;/code&gt; section in &lt;code class=&quot;language-text&quot;&gt;Main&lt;/code&gt; tab.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-db317.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 47.99357945425361%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABsElEQVQoz22RT2/TMBiH8+mROPAhuG1Sue2E4AASJ0o60nZp065NnDixnfh/bMdJSvE2DhNgPX70/nx4Zb+OJM7rQ7zZ3q3ub74v34PiqOXEaiaJVNJ0tEUtZFwx6oT0Sk+vieJvnz7f3XxYvFss3t7evvn65WP6kG+XPx/iJFuvNslylcRJkiY/9uv1cZueXhPd7/KiahCidc0CECIAQJEXJYSwAtXTrsoKAvDssipA+UI4iWDVKmEm/2twszOjMzPtpJS9wEJ2OlhRrVjfCxvs/WWar+N0DfbjNdqnx336mGXFbncmSLZEY8wx7g7bY34sHnenbJNl630oDuusBE2DOcK8wUwoFzFLTrjq7eycH/w8+ItxXsgeEdZSSTpRYxrcoA63HNakrgnCNERjx0joNkdhuMaPs/OzHS6qH9wwdh2tILTWGmP63vxZIVr7kqRSUZnGu1UMNqkApSqhKmuW50b3bccIab0fw43+i7Eu0uycn1PP1cT5QNlAucYo9CeYHvbnqkRSWMnNvwimowbj7AS4sMbNvZ3C44V21nnORPicpkYYET+Mo5/+wrnhNw5wIr1CS/enAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Add User Store in WSO2 API Manager (2.6.0)&quot;
        title=&quot;&quot;
        src=&quot;/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-fb8a0.png&quot;
        srcset=&quot;/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-1a291.png 148w,
/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-2bc4a.png 295w,
/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-fb8a0.png 590w,
/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-526de.png 885w,
/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-fa2eb.png 1180w,
/static/add-user-store-api-manager-7273440cac348f0e21705d2dc95241ae-db317.png 1246w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Enter the inputs as follows …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;User Store Manager Class: select &lt;code class=&quot;language-text&quot;&gt;ReadWriteLDAPUserStoreManager&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;ReadOnlyLDAPUserStoreManager&lt;/code&gt; based on your preference&lt;/li&gt;
&lt;li&gt;Domain Name: give a related domain name to identify the users from this user-store. We will be using &lt;code class=&quot;language-text&quot;&gt;IS&lt;/code&gt; as the domain name&lt;/li&gt;
&lt;li&gt;Connection URL: &lt;code class=&quot;language-text&quot;&gt;ldap://localhost:10389&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Connection Name: &lt;code class=&quot;language-text&quot;&gt;uid=admin,ou=system&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Connection Password: &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;User Search Based: &lt;code class=&quot;language-text&quot;&gt;ou=Users,dc=wso2,dc=org&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;User Entry Object Class: &lt;code class=&quot;language-text&quot;&gt;identityPerson&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Username Attribute: &lt;code class=&quot;language-text&quot;&gt;uid&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;User Search Filter: &lt;code class=&quot;language-text&quot;&gt;(&amp;amp;(objectClass=person)(uid=?))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;User List Filter: &lt;code class=&quot;language-text&quot;&gt;(objectClass=person)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Please enter relavant configuration values and properties if your LDAP configurations are different from the above-mentioned&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-bb851.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 44.43661971830986%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABDElEQVQoz3WQ246EIBBE+f9fNOPE8S7IXQQkuiW6O/viSUka6C6bJmPP6qrFamywS1zc9idscfgkJhwRXH6qis/cOccYmzLDMA7DMM/z8gzyiV2ctfYA+y4FR4FSUuGTMgR/PLPvB5FKU0q11peZ935dV5/Bds0g+P/DC4REoXiaUkowk1L1/eB9iHE7tW2cz0IIpIYQUma7wWUiQsh3WQZ/dshmXr4/QtlljWYJbg199ymKomkaPEdmrnawxhiJMbaua5+L8dZxYigNMUEwZ1PfNC3ouk4IjinEX9AF4UK2XQsLCNNGXp6ZvsQoHU+mSxgQULcMGUf6epXaGK2NhoW1d6y/J6ey+/c86wdPKACelgb74QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;User Store Configurations&quot;
        title=&quot;&quot;
        src=&quot;/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-fb8a0.png&quot;
        srcset=&quot;/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-1a291.png 148w,
/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-2bc4a.png 295w,
/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-fb8a0.png 590w,
/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-526de.png 885w,
/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-fa2eb.png 1180w,
/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-08f6a.png 1770w,
/static/user-store-configurations-a8a7ace193dd356e9df5c987d08d45f3-bb851.png 2840w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Click on &lt;code class=&quot;language-text&quot;&gt;Add&lt;/code&gt; to save and add the user-store in WSO2 API Manager. The following alert box will appear if the user-store is added correctly.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-4310c.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvUlEQVQoz62Q3QrCMAyF+/7vpYPt0jbpTyYT3OaU4cB2oDBnFB1ScOzCw0co4ZykRCjQUqECRG1ycgjKOlookWbZap2skyRNM9Qa4DmGH0sQiO6D1ZqMIa6I9NV/w/0IAeAijCZy2zzfTRAVDLsjZxxGcLaoivLUHOpJbdt2XVfXjZR2Lsz3qo7ncL3fbtdJwzCM48gTNhvD//8ZVsru91UIwfve+/Civ1x8CH1ZHqQ0s5s5/wIWIGCZ7//hB4YgAf3D5MV6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Successful Alert Box&quot;
        title=&quot;&quot;
        src=&quot;/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-fb8a0.png&quot;
        srcset=&quot;/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-1a291.png 148w,
/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-2bc4a.png 295w,
/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-fb8a0.png 590w,
/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-526de.png 885w,
/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-fa2eb.png 1180w,
/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-08f6a.png 1770w,
/static/successful-alert-box-7203239a97e5d03412dabc95de4a2818-4310c.png 2200w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Run &amp;#x26; Test&lt;/h2&gt;
&lt;p&gt;Direct to &lt;a href=&quot;https://localhost:9444/carbon&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://localhost:9444/carbon&lt;/code&gt;&lt;/a&gt; and select &lt;code class=&quot;language-text&quot;&gt;List&lt;/code&gt; under &lt;code class=&quot;language-text&quot;&gt;Users and Roles&lt;/code&gt; section and select &lt;code class=&quot;language-text&quot;&gt;Users&lt;/code&gt; from the prompted page to list all available users from all defined user-stores.&lt;/p&gt;
&lt;p&gt;You will see a similar page as follows …&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-ef9ea.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 35.52083333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0ElEQVQY02WP227EIAxE+f9P3L6moUsWm4Ax5rLZupESRc3RgJDHhsG4J3qfWEbmfhWXweW97/+tUwZ8mCYbVspcE5VTWgGMKj1Qlqt1yiTieZ4RkTMzl36gFWutWo+vBwCMMfoNw0UQARBFpLX2OSCiWmtvzTm3LG7bts8Nk1IOIWhf26kH3nvKWf7qXVfRuw9LdikmhOgBdEwuqAnonxBfgTSzjzx925/XGnGJKy4Q/JpLEaNh9a/3SBqCSsvS9U2u70iUWF/Qkcqlch3a8wvJD5OTjIjUvQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Users List in WSO2 API Manager&quot;
        title=&quot;&quot;
        src=&quot;/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-fb8a0.png&quot;
        srcset=&quot;/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-1a291.png 148w,
/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-2bc4a.png 295w,
/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-fb8a0.png 590w,
/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-526de.png 885w,
/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-fa2eb.png 1180w,
/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-08f6a.png 1770w,
/static/user-list-in-api-manager-5fd493fcf2a71e080a7fa9c81df45612-ef9ea.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Select &lt;code class=&quot;language-text&quot;&gt;View Roles&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;IS/admin&lt;/code&gt; user and click on &lt;code class=&quot;language-text&quot;&gt;Permissions&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;IS/admin&lt;/code&gt; role in the next page. Thereafter, select theLogin permission in the listed permission tree.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-ef9ea.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.72916666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAAzklEQVQoz5WSy47DIAxF+f/fG3W2s2iTNsaAeYTQgEndqtIsW67M8uiYKyt9c5e/CWZ0QGSiAfJuzRuvuX0cZW24zqjBTpMGsA4dUQgph/h5lFjAOLAx5tK4cZfH7buovTYfws14Stu9CtyPr6MaH6U85ehXwZmH4NZr3cHSYqPwIh8y91LKIj2lrY6Qb3Or1Yd4RX/R5GIegF8dsY9p0gTuWdoAzHyklMBQG6nqf21EBBeO8QjM5KP26y7H0cfkCtH+nH7P8yK/ve9jbT8Avif7pdBhTpoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Permission Tree of IS/admin Role&quot;
        title=&quot;&quot;
        src=&quot;/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-fb8a0.png&quot;
        srcset=&quot;/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-1a291.png 148w,
/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-2bc4a.png 295w,
/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-fb8a0.png 590w,
/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-526de.png 885w,
/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-fa2eb.png 1180w,
/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-08f6a.png 1770w,
/static/permission-tree-13bf8bcccc30f9bd2750c8547ab65036-ef9ea.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;And select Update to update the permission tree. Now, logout from the carbon console and again Sign-in using the following credentials …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Username: &lt;code class=&quot;language-text&quot;&gt;IS/admin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Password: &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The above-mentioned credentials are related to the admin user of the secondary user-store&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After a successful login, the management console will be displayed with allowed features set and panels (allowed permissions).&lt;/p&gt;
&lt;hr class=&quot;three--dots&quot;/&gt;</content:encoded></item><item><title><![CDATA[SAML Bearer Assertion]]></title><description><![CDATA[Brief Introduction SAML 2.0 SAML2 or SAML 2.0 is an XML-based framework, which is used to describe and exchange security information. SAML…]]></description><link>https://stackcheats.github.io/SAML-Bearer-Assertion/</link><guid isPermaLink="false">https://stackcheats.github.io/SAML-Bearer-Assertion/</guid><pubDate>Sun, 11 Aug 2019 19:20:03 GMT</pubDate><content:encoded>&lt;h2&gt;Brief Introduction&lt;/h2&gt;
&lt;h3&gt;SAML 2.0&lt;/h3&gt;
&lt;p&gt;SAML2 or SAML 2.0 is an XML-based framework, which is used to describe and exchange security information. SAML is commonly used for Single Sign-On (SSO) and Identity Management and Federation.&lt;/p&gt;
&lt;h3&gt;OAuth 2.0&lt;/h3&gt;
&lt;p&gt;OAuth2 is an authorization framework used to enable applications to obtain limited access to resource owner (user) accounts.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A quick glance and a story guide on OAuth2 framework and its grant-flows can be found here.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Both OAuth2 and SAML have similar concepts and terms in between them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Resource Server = Service Provider&lt;/li&gt;
&lt;li&gt;Authorization Server = Identity Provider&lt;/li&gt;
&lt;li&gt;Client&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Story Guide&lt;/h2&gt;
&lt;p&gt;Stackcheats is a private blog platform which uses &lt;strong&gt;SAML SSO&lt;/strong&gt; to authenticate and authorize different writers and bloggers. Since Stackcheats has been a private blog platform, they have a new requirement on their development road-map to access writer’s technical blogs from their  Medium accounts.&lt;/p&gt;
&lt;p&gt;However, the Medium platform has been using &lt;strong&gt;OAuth2&lt;/strong&gt; mechanism to authorize different users and writers to access and view various medium posts.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OAuth2 and SAML 2.0 are two different frameworks used to authorize and authenticate (OAuth doesn’t authenticate).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is where the SAML Bearer Assertion grant comes to play. The SAML Bearer Assertion grant is used to exchange the acquired SAML Assertion for an OAuth2 access token.&lt;/p&gt;
&lt;p&gt;To simply put, SAML Bearer Assertion grant-flow is very similar to the Authorization code grant-flow in OAuth, wherein SAML Bearer Assertion flow, a SAML Assertion is used instead of a cryptography code to gain an OAuth2 access token.&lt;/p&gt;
&lt;p&gt;Given below is a simple diagram of how SAML Bearer Assertion flow works.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-75e99.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.59252379846761%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAFxGAABcRgEUlENBAAAC3klEQVQ4y43R30tTURwA8ONaWqmUPejEbSpss22kyWRkjqB62Jzuh67pfrtGoYXURHqw2MasUCdEEPXSH1BIjikVUtAonGCKkDFpbmULNqcZxuZ0TuN0znE+FEJe+PI9937P/dzv9x4A/rnWPyioOCcnFV1wvhmmpxtT8JMcbk7LQ4ExQw6uJSabwL6v1FQjAbdn5DY42wA/Dok2Im/OYzj2w6fNxbX0jBKw2WygVCr/D25Myag7sNwOv6vg5pQUwjkZ6lC2AgOWw7g2/0Kate8Ol96ryOaoV8WJTzZfjryVXYl6FdeiXmXT2brqg/kFTMru3qrPbsBZ8FDYCyMkKr56KHuiT1yavQo5ZeXlxXw+7xC+4Q12792R2+0GPp+PrCsrK4FWoybYJbOxxtymv2fQtTrbjLpes0nf6bDbSE141UCmqAmO5nG/jYq4y69FJ2JjIt4Xz2kAIfzrA06nk7yk1+vvtLe3Q6PRCC0WC9TpdOvoGTmUcxASkBNytzJjr2DJ3NNN+vzQFmPxZZogNBoNIxTUYX5tbe2xDHjLZDJBjUazrtVqMRhBNRqDwSgoOyOgHweAyp591lGafAdLQsOQHh6BzIQXAr/frwsEAgMYEQgEhUKhkIHXCLGbzWaI8hrCIPpARCwWF7JYLDavuorLBTnFFbHnHOYv911m0uNkrnl6mavDDhAOhx8Hg8EQRtD4WVarNRuvUWe9GETYEkJ/oxxD4+fhmqK5+wDO5o54Qat1rVFlTTRdtCaUmhtJCRgfH78wMTGhz4CUlpYWambk2xhE8BbuEMWiWq0mYOfCzj+s74sYGx5CKBmMr4pd8bTk/jY5kGIUzN3DQd0QEAH2DJjKgMsikagI/cMifnUdC205Irb5O2SPEDiQSElcSSh9gBCXy0Wx2WxkBIfDAQwGAwFR7sqMnEJriCLY09OTTafTj/JPnmLRAchVDkRLG/pXuuv7ft7EIe1fuf4HwvVJTvH8z8gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;SAML2 Bearer Assertion Flow&quot;
        title=&quot;&quot;
        src=&quot;/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-fb8a0.png&quot;
        srcset=&quot;/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-1a291.png 148w,
/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-2bc4a.png 295w,
/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-fb8a0.png 590w,
/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-526de.png 885w,
/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-fa2eb.png 1180w,
/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-08f6a.png 1770w,
/static/saml2-bearer-assertion-911573483b590388d8ceb9bec5468a6c-75e99.png 4307w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Experiential&lt;/h2&gt;
&lt;p&gt;For practical, we will be using &lt;strong&gt;WSO2 API Manager&lt;/strong&gt; along with &lt;strong&gt;WSO2 Identity Server&lt;/strong&gt; and a simple Passport-SAML express application to retrieve a SAML2 Bearer Assertion and to exchange to an OAuth2 access token and finally to invoke an API defined in the API Manager.&lt;/p&gt;
&lt;p&gt;As first step, we’ll configure our WSO2 Identity Server with the API Manager to function as a Federated Identity Provider. Then, we’ll setup our Passport SAML application with the Identity Server as a service provider to gain SAML2 Token.&lt;/p&gt;
&lt;h3&gt;WSO2 API Manager&lt;/h3&gt;
&lt;p&gt;Follow the steps to add our WSO2 Identity Server as a Federated Identity Provider in our API Manager.&lt;/p&gt;
&lt;p&gt;Start the API Manager server by directing to &lt;code class=&quot;language-text&quot;&gt;&amp;lt;APIM&amp;gt;/bin&lt;/code&gt; folder and execute the startup command based on your environment …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;# linux env
./wso2server.sh

# windows env
./wso2server.bat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And login to the management console (&lt;code class=&quot;language-text&quot;&gt;https://localhost:9443/carbon&lt;/code&gt;), using &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; for both the username and password.&lt;/p&gt;
&lt;p&gt;Click on &lt;code class=&quot;language-text&quot;&gt;Add&lt;/code&gt; under &lt;code class=&quot;language-text&quot;&gt;Identity Providers&lt;/code&gt; accordian as following&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-d1072.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 33.81642512077295%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABLUlEQVQoz3WRW0/CQBSE+/9/lolPvqkU2wp0aSlbStn7pRccD1XjC2zyZV42kzMzCeMc27IG23OU7AghA4ydIFWA8wEtP6PINhC9XtDKwdkIZ+6THP0RaVNC6whrPXwYEeIM64bFsD9LlNsKFWuwI+07CUt/jfJ3SUbToD0d4CYsb5y+EIcrmY1kHsB5iyzPsCtLVHUNpTWhHpL4eoNNmiMtKrpgD3ExsGaAku4nctuhyD/R9wIxDPA+IpA+ImnXz/h4eYJevUOnr7DZGr7IYNI36sRQZIWacXRcwOmBYkUo4R+SaEFROIMLV8zThDGOdAnFpT6d9+gvAlV1G62i0Rjq+kB9G2hjiT/9J5k7WpZ6asTt5InMZtKZVv6NfDohz3NIKRcDQwTqNsR4l28XexPrEFp2CAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Add Identity Provider&quot;
        title=&quot;&quot;
        src=&quot;/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-fb8a0.png&quot;
        srcset=&quot;/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-1a291.png 148w,
/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-2bc4a.png 295w,
/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-fb8a0.png 590w,
/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-526de.png 885w,
/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-fa2eb.png 1180w,
/static/add-identity-provider-0f07e9988ae6bd8966a13c88722643ec-d1072.png 1242w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-bb851.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.816901408450704%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABN0lEQVQoz51Si07DMBDL/38WIAG/ABPqY1vbtb2kTZq+0ppctsEQoA0iWadLIp/tRBz2FaqcQLWG7iZoM6L1CFUzhov6G0bIpkdRW4gkjkFVDd1qEEmQlFCqgVQKWmsYY26GtQPEPM84r6oqkecFpFRo/QDnHP6ynFuZcArNuq5BEXky1TTexichn12Dv4XZLRBd16HveyyLQ29NsMqWGTxgmqabSD8Udp3BOI5hg3OQJ4XGHAedI7mZsG3boGSeHfJSId3uQ892edCyLF9yumr54qpXR8j8oxTFISi11mIYhmCbya89Es8WURQhyzI0XikRoa6P4C/EpNJ/o/CdTv053+/gqDTE3f0DHp+e8fK6QZykn4hTRHES6iV470dEMba7DGKzeUOS7nx2O5RljbL6DyhUogbvuIxP5KtSgQsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Add new Identity Provider&quot;
        title=&quot;&quot;
        src=&quot;/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-fb8a0.png&quot;
        srcset=&quot;/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-1a291.png 148w,
/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-2bc4a.png 295w,
/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-fb8a0.png 590w,
/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-526de.png 885w,
/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-fa2eb.png 1180w,
/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-08f6a.png 1770w,
/static/add-new-identity-provider-4b6fdecad06acead44184d7298bbb2ea-bb851.png 2840w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;WSO2 Identity Server&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Replace H2 with Postgres]]></title><description><![CDATA[Docker: Postgres Pull Prerequisites: Docker installed in your environment. You can follow the  Docker  docs to get it done. Follow the given…]]></description><link>https://stackcheats.github.io/Replace-H2-with-Postgres/</link><guid isPermaLink="false">https://stackcheats.github.io/Replace-H2-with-Postgres/</guid><pubDate>Sat, 03 Aug 2019 10:18:00 GMT</pubDate><content:encoded>&lt;h2&gt;Docker: Postgres&lt;/h2&gt;
&lt;h3&gt;Pull&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Prerequisites: Docker installed in your environment. You can follow the &lt;a href=&quot;https://www.docker.com/get-started&quot;&gt;Docker&lt;/a&gt; docs to get it done.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Follow the given steps to set up Postgres using Docker in your dev environments. For this demo, we will be using &lt;strong&gt;Postgres - 9.6.14&lt;/strong&gt; and &lt;strong&gt;WSO2 Identity Server 5.7&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Start the Docker service and execute the following command to pull the Postgres (9.6.14) image from &lt;a href=&quot;https://hub.docker.com/_/postgres&quot;&gt;DockerHub&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker pull postgres:9.6.14&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Run&lt;/h3&gt;
&lt;p&gt;After a successful pull, execute the below command to create and run a docker container for our pulled Postgres image. Replace the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;CONTAINER_NAME&amp;gt;&lt;/code&gt; tag with your preferred name or use &lt;code class=&quot;language-text&quot;&gt;postgres-9.6.14&lt;/code&gt; as the default value.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can change the Postgres password by changing the &lt;code class=&quot;language-text&quot;&gt;POSTGRES_PASSWORD&lt;/code&gt; value from &lt;code class=&quot;language-text&quot;&gt;hydrogen&lt;/code&gt; to any preferred secured password&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker run --name &amp;lt;CONTAINER_NAME || postgres-9.6.14&amp;gt; -e POSTGRES_PASSWORD=hydrogen -p 5432:5432 -d -v $HOME/docker/volumes/postgres:/var/lib/postgresql postgres:9.6.14&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Basic commands to &lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;stop&lt;/code&gt; a Docker container&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker start &amp;lt;CONTAINER_NAME&amp;gt;&lt;/code&gt; to start a container&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker stop &amp;lt;CONTAINER_NAME&amp;gt;&lt;/code&gt; to stop a running container&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3&gt;PSQL Terminal&lt;/h3&gt;
&lt;p&gt;Use the following command to hop into the PSQL terminal session.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker exec -ti &amp;lt;CONTAINER_NAME || postgres-9.6.14&amp;gt; psql -h localhost -U postgres&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Configurations&lt;/h2&gt;
&lt;h3&gt;Postgres&lt;/h3&gt;
&lt;p&gt;To replace the default packaged H2 database with Postgres, initially, we have to create the databases and tables in Postgres. Find and execute the following PostgreSQL scripts to create and set up all necessary tables and indexes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can use either any database tools like DBeaver (Jump to &lt;a href=&quot;#dbeaver&quot;&gt;DBeaver&lt;/a&gt;) or you can straightaway execute them using PSQL terminal (Jump to &lt;a href=&quot;#psql&quot;&gt;PSQL&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/dbscripts/postgresql.sql&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/dbscripts/identity/postgresql.sql&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/dbscripts/identity/uma/postgresql.sql&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/dbscripts/identity/stored-procedures/postgre/postgresql.sql&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/dbscripts/consent/postgresql.sql&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Start the Postgres container (if not started before) using the following command&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker start postgres-9.6.14&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;PSQL&lt;/h4&gt;
&lt;p&gt;Execute the following command to enter the PSQL terminal session and run the create query to create a database named &lt;code class=&quot;language-text&quot;&gt;wso2postgres&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker exec -ti postgres-9.6.14 psql -h localhost -U postgres&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;database&lt;/span&gt; wso2postgres&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After successful creation, try to connect to the &lt;code class=&quot;language-text&quot;&gt;wso2postgres&lt;/code&gt; database using the following command&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;psql&quot;&gt;&lt;pre class=&quot;language-psql&quot;&gt;&lt;code class=&quot;language-psql&quot;&gt;\c wso2postgres;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, quite the terminal session using &lt;code class=&quot;language-text&quot;&gt;\q&lt;/code&gt; command and copy the &lt;code class=&quot;language-text&quot;&gt;dbscripts&lt;/code&gt; folder from the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS_HOME&amp;gt;&lt;/code&gt; path to our &lt;code class=&quot;language-text&quot;&gt;postgres-9.6.14&lt;/code&gt; container volume to execute all related scripts using the Docker PSQL terminal.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker cp &amp;lt;IS_HOME&amp;gt;/dbscripts postgres-9.6.14:/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and run the following commands one by one to execute the scripts&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;docker exec -ti postgres-9.6.14 psql -h localhost -U postgres -d wso2postgres -f /dbscripts/postgresql.sql
-----
docker exec -ti postgres-9.6.14 psql -h localhost -U postgres -d wso2postgres -f /dbscripts/identity/postgresql.sql
-----
docker exec -ti postgres-9.6.14 psql -h localhost -U postgres -d wso2postgres -f /dbscripts/identity/uma/postgresql.sql
-----
docker exec -ti postgres-9.6.14 psql -h localhost -U postgres -d wso2postgres -f /dbscripts/identity/stored-procedures/postgre/postgresql.sql
-----
docker exec -ti postgres-9.6.14 psql -h localhost -U postgres -d wso2postgres -f /dbscripts/consent/postgresql.sql&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After a successful connection, execute the above-mentioned SQL scripts to create related tables and indexes. But, before executing them, we have to copy the &lt;code class=&quot;language-text&quot;&gt;dbscripts&lt;/code&gt; folder to the related container volume to execute the script using PSQL terminal. Execute the following command to copy the &lt;code class=&quot;language-text&quot;&gt;dbscripts&lt;/code&gt; folder from the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS_HOME&amp;gt;&lt;/code&gt; path to our &lt;code class=&quot;language-text&quot;&gt;postgres-9.6.14&lt;/code&gt; container volume.&lt;/p&gt;
&lt;h4&gt;DBeaver&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Prerequisites: DBeaver installed in your environment. You can follow the &lt;a href=&quot;https://dbeaver.io&quot;&gt;DBeaver&lt;/a&gt; site.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Open DBeaver and create a new database connection. Select &lt;code class=&quot;language-text&quot;&gt;PostgreSQL&lt;/code&gt; from the list and click &lt;code class=&quot;language-text&quot;&gt;Next&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/select-database-73b1ea6935a3636ffae7824e88ee80db-07eac.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 108.5139318885449%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAADXklEQVQ4y7VUy44TRxT1L+U7WEbKfwSJdZSwYBGxQSQoyjYsEGIUkCBhQFkETcDYZobxjB/j7rY9Hne7n+73s9yHe8vTM0AUBIuUdFTtctWpe8+5t1rL/hF64y5G2glURcVsNsPpYiFnxmAwwNHRkcTh4SE0TcN8Pr/4nzGdzqBqM0zUGVqL01NMlAm06RTD4RCmaSLPcwghsNlsUFWCUF2gWW/A/+eFQJJVcPwcrfV6jdVqBXNlwrZtScgzH9we5rmSYIKyLFEUxQV5g4r30p6WQ4eTJEEYhvB9H0EQIKbfQRQhjEL6TlFUG+SlQBQnaAaT8rk8z+DROVV34DoOWoPRGIqqgokty4JNi0WaQsQxUBU4sTa4ce8lbj7oYOYDT58+wXfXv4eu65I4TXMiL1HXtbykdaycot3p4YyMyLIMCZFtSEMQMZIIAxu4+stzfPvzE6ge8OPuT/jqhys4Nk4kobqwEMaZ/ObUW6PRCN1uV97oui7xUISkk0HRijLHwVLg17/OcGd3ir5RY+5qeKMfIhMUWV5gRo4HJBcP1lUSttttWRKOY0tCUbEBNQQhLgE7FDCdFElRg4zEq5FxoWfj+gcR9no9dDodGIaBtechzkokoY0qXcuNkWMhXm01u/ZMx9e3HqPKU6mb5QYoxeY8wnNCJtvf36co+zAo9TBKoJ/NUSS+FHyiKFgst4QvJjbeasb2IjKOM4ri6DJC7gQmZOzt7WG5XCJLI9IlIi1rWYdxSmaRYRwRaoGUyoXT5AaIopicfs8UbqXxeCwxHA6w1C0S24DS/wax392m8ttdiD/+lN8bZw7x6C4tUoeUFdaGQmW2vDSFu8Qj3djhrcvcJcA/f99G/+Ch3Jg82EG6+wwUH8qVgvT5DpVWJUvMtU3KKDiPkAjZCNaB243RlI7tUNpBgoR0Mqg9Dbo0CgOsTAuG48KjNY/2mtwMtivlkCl/TCjLhkOUo8aXjP8k5AdA0tGtn4tPErK4/wvhl45/EW5nhwT3sfYDes4C+Zx9Lvht/YDQIvgevY++KRF41rmL26ftU2ge5xa/MlyHfND3HBwoHnbaIe6/DLF3vEboe9Q9uryUS+p9kmaN5wYyQia0LFsS9jUPjzoBfn8d4NXQQ8CE+iVho3Uj0ceE7wBTiXoEQ5pkAAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Select Database&quot;
        title=&quot;&quot;
        src=&quot;/static/select-database-73b1ea6935a3636ffae7824e88ee80db-fb8a0.png&quot;
        srcset=&quot;/static/select-database-73b1ea6935a3636ffae7824e88ee80db-1a291.png 148w,
/static/select-database-73b1ea6935a3636ffae7824e88ee80db-2bc4a.png 295w,
/static/select-database-73b1ea6935a3636ffae7824e88ee80db-fb8a0.png 590w,
/static/select-database-73b1ea6935a3636ffae7824e88ee80db-526de.png 885w,
/static/select-database-73b1ea6935a3636ffae7824e88ee80db-fa2eb.png 1180w,
/static/select-database-73b1ea6935a3636ffae7824e88ee80db-07eac.png 1292w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Enter &lt;code class=&quot;language-text&quot;&gt;wso2postgres&lt;/code&gt; for the &lt;code class=&quot;language-text&quot;&gt;Database&lt;/code&gt; field and use &lt;code class=&quot;language-text&quot;&gt;hydrogen&lt;/code&gt; as &lt;code class=&quot;language-text&quot;&gt;Password&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Please change and use related values for the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Port&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Database&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;User&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Password&lt;/code&gt; fields if those are different from mentioned default values.&lt;/p&gt;
&lt;p&gt;If you have not installed any PostgreSQL driver for DBeaver, it will prompt you to follow a couple of instructions to install necessary drivers to work with Postgres databases and connections&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-07eac.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 108.5139318885449%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAADK0lEQVQ4y5VUy27TQBT1GrFjxTexQGLHJ7GshFjxBwhVQHmsikAVadXQlxPbiR3n5cSPxHac1K36SA/3jDuSqUolLB3NXM/MmXvPvXONidlC02nC6XXQ83oYDocYj8cYjUYYDAawLAutVkvh5OQEvu/L2hCO5+PL7xY+NU1sNVv4uG+K3YYxnUzQ6QhZrwfXdTGfz3F+fo6yLLFer3F1dS24Uri8vMSFjPw23QSPN77jyesfeLSxreZP3/yAkeU5wjBEFEVIhSyOI4VZkgA317dYC8WNIrpeV/O9qMCzLRvPPzt48bWj8PKbIx5Op8qr2WyGMEoEMyFP0B8neLtd4NVWiZ2TGH2/B9vx4PeHmIQxInFinsSYxTEScSahIzIa1MvzXLTtLg6sERw/RJCsMIqW6IxPYY1K+JMlhmGOwTSXcSHrJdruRCTqYiCaT0Q28hAGk3B4eCiit+G4A7QsF8MgQl6cYVGcolieyrxEJnaFEvOF2HmBZZHLngKFYLVaIRGZDGbTNE3YtiWJ8RAEY5yVpwrlLc5qoH19UWIcpjBtD263I0ntqsSyAgyWBkvCcRz0+32lJ29cLBb/RBDlsHoxDs0ubKutSqvdbqtKURp2u7Jg20oDHiApkabpX+C/PEvx05zD80eIw4noNwUTS1BLRXh0dITj42NVh/TU8zzlPm+sw78dhwNfRdOTPf4t1H/Jh9KQJLu7u2g0GtjZ2cHBwYHymLrcB8ep0Ok46mz1r5JMEarb5AZ6pl+M9vJ/oDzU9VNHEAQK9609BJ4x6gQEPX4IdYL6Pz2qsmHKdVdh+PXNd4l0aNyn54TOtHopde1ok0BvrKN6pp4qM4L7tX5sLoSh+x6hQ2Y9sQPVwdt5gGtaXxLRU56lreqwHjI3sAR4mAWeZRlyaW8a2tbFXw+d3qqQeSs36pfAka0sZluSx07cnWu7antzJDOOKaJYmgPDIYHuidxYtwl9mZ5rJGLn2QxnRaJQZHHVYBkCR5IxJE3IQ/ReN2HOqVPV/wIsFymOvQzvGgXe7y3ljaeVhyTUnvLQQ4Q6QWwKi3yOlp9hc6/Ah/0lflkp/gB1okJw3Z55VQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Postgres Connection Configurations&quot;
        title=&quot;&quot;
        src=&quot;/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-fb8a0.png&quot;
        srcset=&quot;/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-1a291.png 148w,
/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-2bc4a.png 295w,
/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-fb8a0.png 590w,
/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-526de.png 885w,
/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-fa2eb.png 1180w,
/static/postgres-connection-configurations-5eaa50cea597e8b2140287888eca5101-07eac.png 1292w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Click on &lt;code class=&quot;language-text&quot;&gt;Test Connection&lt;/code&gt; to test the database connection and if successful then click on &lt;code class=&quot;language-text&quot;&gt;Finish&lt;/code&gt; to finish the connection configuration process. The created connection will be listed under the &lt;code class=&quot;language-text&quot;&gt;Database Navigator&lt;/code&gt; panel (on the left-side navigation panel). Navigate to &lt;code class=&quot;language-text&quot;&gt;File&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;Open File ...&lt;/code&gt; and select and open the above-listed PostgreSQL scripts in the DBeaver.&lt;/p&gt;
&lt;p&gt;Select the database connection and the Postgres schema if not selected by default and click &lt;code class=&quot;language-text&quot;&gt;Execute SQL Script&lt;/code&gt; to execute the script. Do this for all above-mentioned &lt;a href=&quot;#postgres&quot;&gt;PostgreSQL scripts&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-75ec9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 48.1%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABX0lEQVQoz52SXXOaQBSG+f8/pxe9azrNZEzBBD9CTI0FxQhUQWFBBXeFpwsXmXbamE535tnzXux5z7s7a7jzOX4QMbu/YznUDDQjm8VwwGp03+F7Lv4qIIoifqw3mvWbGIHnEy6WhP4Lq1VIEAbkxZ5iXyLyI6JoKTsyrd/DKOMtyWLOnWliWhY3N894zwlN3fA/y2g3pXsnts3s6Yle7ztjc0J1rGgt66amaZp/xliPRqydB3bTKdHCoyh2SFn9Mbk93E7oyiXD2HHw+30GX28ZDqZMnSWFfoZ4U5CXOaLKOJwOr6ad8XtXPlQVPfOWq882Hz984+HaIXE9pJLIs0Sd1W8pXhO/ZVgejzz2LSbjMZY549GaEL5EnE6nvzZdSmmUScw+SUg3G3a6ilyQi1TrmO12S5ZlCCE60jRFSXk54fL6C+7VJ1z9ZWyN57pkuvGsFEojtYH6RTd1fdHwJzOT/Cwb82dLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Execute Postgres Script&quot;
        title=&quot;&quot;
        src=&quot;/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-fb8a0.png&quot;
        srcset=&quot;/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-1a291.png 148w,
/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-2bc4a.png 295w,
/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-fb8a0.png 590w,
/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-526de.png 885w,
/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-fa2eb.png 1180w,
/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-08f6a.png 1770w,
/static/execute-postgres-scripts-767c077aa62351e23da977cb81d0685e-75ec9.png 2000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;WSO2 Identity Server&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Below described steps and guides are based on fresh-pack installation. If you have any pre-stored data inside the H2 database, then you have to migrate them to the new data-source which is not covered in this topic.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After setting up the databases, now we have to install the Postgres JDBC connector (driver) for our WSO2 Identity Server. Download the Postgres driver from &lt;a href=&quot;https://jdbc.postgresql.org/download.html&quot;&gt;here&lt;/a&gt;, copy and place the &lt;code class=&quot;language-text&quot;&gt;jar&lt;/code&gt; file inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/repository/components/lib&lt;/code&gt; directory.&lt;/p&gt;
&lt;p&gt;Next, we have to configure our database connection settings in the Identity Server to connect to our Postgres source. Make changes to the following XML files to swap the connection from default H2 database to our Postgres database.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#master-datasource&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/repository/conf/datasources/master-datasources.xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#identity&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/repository/conf/identity/identity.xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#registry&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/repository/conf/registry.xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Moreover, We will also be swapping the user store from the default LDAP server to the JDBC store&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#user-management&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/repository/conf/user-mgt.xml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Replace and change the &lt;code class=&quot;language-text&quot;&gt;host&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;port&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;username&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;password&lt;/code&gt; segments with respective values if different.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;Master DataSource&lt;/h4&gt;
&lt;p&gt;Add the following data source configuration below the default H2 configuration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- master-datasources.xml --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;datasource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;WSO2_CARBON_POSTGRES_DB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;The datasource used for registry and user manager&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;jndiConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jdbc/WSO2CarbonPostgresDB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;jndiConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;definition&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;RDBMS&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jdbc:postgresql://localhost:5432/wso2postgres&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;postgres&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;hydrogen&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;driverClassName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.postgresql.Driver&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;driverClassName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;80&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;60000&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;minIdle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;5&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;minIdle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;testOnBorrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;testOnBorrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;validationQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;SELECT 1; COMMIT&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;validationQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;defaultAutoCommit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;defaultAutoCommit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;validationInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;30000&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;validationInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;definition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;datasource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Identity&lt;/h4&gt;
&lt;p&gt;Change the data-source in &lt;code class=&quot;language-text&quot;&gt;repository/conf/identity/identity.xml&lt;/code&gt; with the Postgres JNDI configuration name.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- identity.xml --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;JDBCPersistenceManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;DataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Include a data source name (jndiConfigName) from the set of data
                sources defined in master-datasources.xml --&gt;&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- &amp;lt;Name&gt;jdbc/WSO2CarbonDB&amp;lt;/Name&gt; --&gt;&lt;/span&gt;

            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jdbc/WSO2CarbonPostgresDB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;DataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Registry&lt;/h4&gt;
&lt;p&gt;The following changes are made to mount the registries with our newly created Postgres data-source.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Don’t change the default &lt;code class=&quot;language-text&quot;&gt;wso2registry&lt;/code&gt; configurations unless if you want to. Add new registry mounting configurations below the default configurations.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- registry.xml --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dbConfig&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;wso2registry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jdbc/WSO2CarbonDB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dbConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dbConfig&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;govregistry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jdbc/WSO2CarbonPostgresDB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dbConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;remoteInstance&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://localhost:9443/registry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;gov&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;cacheId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;postgres@jdbc:postgresql://localhost:5432/wso2postgres&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;cacheId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dbConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;govregistry&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dbConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;readOnly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;readOnly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;enableCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;enableCache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;registryRoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;/&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;registryRoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;remoteInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mount&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/_system/governance&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;overwrite&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;instanceId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;gov&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;instanceId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;targetPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;/_system/governance&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;targetPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mount&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/_system/config&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;overwrite&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;instanceId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;gov&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;instanceId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;targetPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;/_system/config&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;targetPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;User Management&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Below described steps are to change the default LDAP user-store to JDBC user-store. You can skip the following changes if you want to keep the default LDAP user-store as out-of-the-box.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Comment the existing &lt;code class=&quot;language-text&quot;&gt;WSO2CarbonDB&lt;/code&gt; data source property tag and place the &lt;code class=&quot;language-text&quot;&gt;WSO2CarbonPostgresDB&lt;/code&gt; property tag inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Configuration&amp;gt;&lt;/code&gt; element as described below&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    ...
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- &amp;lt;Property name=&quot;dataSource&quot;&gt;jdbc/WSO2CarbonDB&amp;lt;/Property&gt; --&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Property&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;dataSource&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jdbc/WSO2CarbonPostgresDB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Further, comment the LDAP user store manager configurations and uncomment the JDBC user store manager. This will route our default LDAP user store with JDBC user store.&lt;/p&gt;
&lt;h2&gt;Run &amp;#x26; Test&lt;/h2&gt;
&lt;p&gt;Start the WSO2 Identity Server by navigating to the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS&amp;gt;/bin&lt;/code&gt; folder and execute the following command based on your environment&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;# linux env
./wso2server.sh

# windows env
./wso2server.bat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The server will start and configure the platform to work with new configurations. After a successful startup, bring up your favorite browser and navigate to &lt;code class=&quot;language-text&quot;&gt;https://localhost:9443/carbon&lt;/code&gt; and enter &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; as both username and password.&lt;/p&gt;
&lt;hr class=&quot;three--dots&quot;/&gt;</content:encoded></item><item><title><![CDATA[SAML SSO with Passport]]></title><description><![CDATA[This post narrates on how-to enable and register a service provider for SAML SSO using WSO2 Identity Server and to develop a simple Express…]]></description><link>https://stackcheats.github.io/SAML-SSO-with-Passport/</link><guid isPermaLink="false">https://stackcheats.github.io/SAML-SSO-with-Passport/</guid><pubDate>Sat, 20 Jul 2019 09:30:03 GMT</pubDate><content:encoded>&lt;p&gt;This post narrates on how-to enable and register a service provider for SAML SSO using WSO2 Identity Server and to develop a simple Express-based web application with Passport-SAML component to support and authenticate the users via SAML SSO.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Security Assertion Markup Language (SAML) is an XML-based framework for authentication and authorization between a Service Provider and an Identity Provider. SAML is a standard Single-Sign-On (SSO) format. Authentication information is exchanged through digitally signed XML documents.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://auth0.com/blog/how-saml-authentication-works&quot;&gt;For more on SAML&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Implementation&lt;/h2&gt;
&lt;h3&gt;Express Application&lt;/h3&gt;
&lt;p&gt;Create an express application by executing &lt;code class=&quot;language-text&quot;&gt;npm init&lt;/code&gt; command, and provide all necessary properties to start the development.&lt;/p&gt;
&lt;p&gt;Install all below-listed dependencies by either running &lt;code class=&quot;language-text&quot;&gt;npm install &amp;lt;module&amp;gt; --save&lt;/code&gt; command or by replacing the dependencies object with the values.&lt;/p&gt;
&lt;p&gt;A complete package.json is given below.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist97088616&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-package-json&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-json &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;{&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;name&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;expresssaml&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;version&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;1.0.0&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;description&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Express Application with SAML SSO&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;main&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;server.js&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;scripts&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;test&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;echo &lt;span class=&quot;pl-cce&quot;&gt;\&amp;quot;&lt;/span&gt;Error: no test specified&lt;span class=&quot;pl-cce&quot;&gt;\&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; exit 1&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	},&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;author&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;athiththan11&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;homepage&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;https://github.com/athiththan11/Passport-SAML-WSO2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;keywords&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: [&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;wso2-saml-sso&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;passport-saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	],&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;license&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;ISC&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;dependencies&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;body-parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;1.19.0&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;dotenv&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;8.0.0&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;ejs&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;2.6.2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;express&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;4.17.1&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;express-session&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;1.16.2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;passport&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;0.3.2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;passport-saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;0.15.0&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	},&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;devDependencies&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;: {}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-package-json-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-package-json-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/dc553a891a27c379515860249caed35c/raw/18721c1fe4498c15dbe19a6187d6a4c296fa46ec/package.json&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/dc553a891a27c379515860249caed35c#file-package-json&quot;&gt;package.json&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Create a Javascript file named &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt; in the root directory of our express application with the below-given code-segments.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note: EJS template implementations are not covered here&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Check out the complete implementation of our express application at the end of this blog followed by a &lt;a href=&quot;https://github.com/athiththan11/Passport-SAML-WSO2&quot;&gt;GitHub&lt;/a&gt; repo. The implementation contains simple EJS templates to render the pages and outputs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div id=&quot;gist97088674&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-server-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;dotenv&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-en&quot;&gt;config&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; path &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;path&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; fs &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;fs&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; express &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;express&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; session &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;express-session&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; passport &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;passport&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; saml &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;passport-saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-smi&quot;&gt;Strategy&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; bodyParser &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;body-parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; userProfile;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; app &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;express&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;views&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;path&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;__dirname&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;views&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;));&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;view engine&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;ejs&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;express&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;static&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;path&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;__dirname&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;public&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;)));&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;bodyParser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;urlencoded&lt;/span&gt;({ extended&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt; }));&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-en&quot;&gt;session&lt;/span&gt;({ secret&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;process&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;env&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;SESSION_SECRET&lt;/span&gt; }));&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;initialize&lt;/span&gt;());&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;session&lt;/span&gt;());&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;serializeUser&lt;/span&gt;((&lt;span class=&quot;pl-smi&quot;&gt;user&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;done&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-en&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;, user);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;deserializeUser&lt;/span&gt;((&lt;span class=&quot;pl-smi&quot;&gt;user&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;done&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-en&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;, user);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; saml strategy for passport&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; strategy &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;saml&lt;/span&gt;(&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	{&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		entryPoint&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;process&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;env&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;SAML_ENTRYPOINT&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		issuer&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;process&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;env&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;SAML_ISSUER&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		protocol&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;process&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;env&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;SAML_PROTOCOL&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		logoutUrl&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;process&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;env&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;SAML_LOGOUTURL&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	},&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	(&lt;span class=&quot;pl-smi&quot;&gt;profile&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;done&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		userProfile &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; profile;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-en&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;, userProfile);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(strategy);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;redirectToLogin&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;next&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;isAuthenticated&lt;/span&gt;() &lt;span class=&quot;pl-k&quot;&gt;||&lt;/span&gt; userProfile &lt;span class=&quot;pl-k&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L52&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;52&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC52&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;redirect&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/login&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L53&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;53&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC53&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L54&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;54&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC54&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-en&quot;&gt;next&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L55&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;55&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC55&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L56&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;56&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC56&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L57&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;57&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC57&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, redirectToLogin, (&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L58&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;58&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC58&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;render&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;index&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L59&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;59&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC59&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		title&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;Express Web Application&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L60&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;60&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC60&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		heading&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;Logged-In to Express Web Application&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L61&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;61&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC61&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L62&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;62&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC62&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L63&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;63&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC63&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L64&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;64&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC64&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;get&lt;/span&gt;(&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L65&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;65&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC65&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/login&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L66&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;66&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC66&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;authenticate&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L67&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;67&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC67&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		successRedirect&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L68&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;68&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC68&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		failureRedirect&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/login&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L69&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;69&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC69&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	})&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L70&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;70&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC70&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L71&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;71&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC71&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L72&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;72&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC72&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/logout&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, (&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L73&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;73&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC73&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L74&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;74&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC74&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;redirect&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/home&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L75&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;75&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC75&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L76&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;76&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC76&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L77&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;77&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC77&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;strategy&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;logout&lt;/span&gt;(req, (&lt;span class=&quot;pl-smi&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;uri&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L78&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;78&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC78&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;logout&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L79&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;79&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC79&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L80&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;80&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC80&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		userProfile &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L81&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;81&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC81&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;redirect&lt;/span&gt;(uri);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L82&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;82&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC82&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L83&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;83&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC83&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L84&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;84&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC84&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L85&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;85&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC85&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/failed&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, (&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L86&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;86&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC86&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;status&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;401&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot;&gt;send&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;Login failed&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L87&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;87&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC87&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L88&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;88&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC88&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L89&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;89&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC89&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;post&lt;/span&gt;(&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L90&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;90&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC90&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/saml/consume&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L91&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;91&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC91&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;authenticate&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L92&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;92&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC92&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		failureRedirect&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/failed&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L93&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;93&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC93&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		failureFlash&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L94&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;94&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC94&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}),&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L95&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;95&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC95&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	(&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L96&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;96&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC96&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L97&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;97&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC97&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; saml assertion extraction from saml response&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L98&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;98&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC98&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; var samlResponse = res.req.body.SAMLResponse;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L99&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;99&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC99&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; var decoded = base64decode(samlResponse);&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L100&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;100&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC100&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; var assertion =&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L101&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;101&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC101&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; 	(&amp;#39;&amp;lt;saml2:Assertion&amp;#39; + decoded.split(&amp;#39;&amp;lt;saml2:Assertion&amp;#39;)[1]).split(&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L102&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;102&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC102&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; 		&amp;#39;&amp;lt;/saml2:Assertion&amp;gt;&amp;#39;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L103&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;103&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC103&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; 	)[0] + &amp;#39;&amp;lt;/saml2:Assertion&amp;gt;&amp;#39;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L104&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;104&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC104&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; var urlEncoded = base64url(assertion);&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L105&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;105&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC105&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L106&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;106&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC106&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; success redirection to /app&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L107&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;107&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC107&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;redirect&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L108&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;108&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC108&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L109&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;109&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC109&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L110&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;110&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC110&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L111&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;111&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC111&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;post&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;/app/home&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, (&lt;span class=&quot;pl-smi&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L112&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;112&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC112&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	&lt;span class=&quot;pl-smi&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;render&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;home&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L113&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;113&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC113&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		title&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;Express Web Application&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L114&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;114&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC114&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		heading&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;Express Web Application&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L115&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;115&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC115&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L116&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;116&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC116&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L117&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;117&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC117&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-server-js-L118&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;118&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-server-js-LC118&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;listen&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot;&gt;process&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;env&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;3000&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/9352d62cf837e5d05894a4a521d8bfd2/raw/42033d74658cfc3d52944d7c224c84202114af59/server.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/9352d62cf837e5d05894a4a521d8bfd2#file-server-js&quot;&gt;server.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h3&gt;Passport&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://www.passportjs.org&quot;&gt;Passport&lt;/a&gt; is authentication middleware for Node.js and can be used with any Express-based web applications.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Passport has a comprehensive set of strategies to support different authentication mechanisms with different vendors.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For this implementation, we will be using &lt;a href=&quot;http://www.passportjs.org/packages/passport-saml&quot;&gt;Passport-SAML&lt;/a&gt; (which is an open-built strategy for SAML 2.0 authentication flows) strategy with our express web application to authenticate users.&lt;/p&gt;
&lt;p&gt;Given below is a simple &lt;a href=&quot;http://www.passportjs.org/packages/passport-saml&quot;&gt;Passport-SAML&lt;/a&gt; strategy configuration …&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist97149709&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-strategy-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; passport &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;passport&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; saml &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;passport-saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-smi&quot;&gt;Strategy&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; saml strategy for passport&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; strategy &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;saml&lt;/span&gt;(&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	{&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		entryPoint&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide &lt;span class=&quot;pl-c1&quot;&gt;SAML&lt;/span&gt; entry point url &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt;localhost:9443/samlsso&amp;gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		issuer&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide &lt;span class=&quot;pl-c1&quot;&gt;SAML&lt;/span&gt; issuer name &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; SampleExpressApp&lt;span class=&quot;pl-k&quot;&gt;&amp;gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		protocol&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide the protocol used &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; http&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt;&amp;gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		logoutUrl&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide the logout url &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt;localhost:9443/samlsso&amp;gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	},&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	(&lt;span class=&quot;pl-smi&quot;&gt;profile&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;done&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; your body implementation on success&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; register the strategy with passport&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(strategy);&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/9c1c2fa4a7948ae1b320cde8c089c7cb/raw/916522dae5eac1b147736ad3c8841d631176309d/strategy.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/9c1c2fa4a7948ae1b320cde8c089c7cb#file-strategy-js&quot;&gt;strategy.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h2&gt;Configurations&lt;/h2&gt;
&lt;h3&gt;WSO2 Identity Server&lt;/h3&gt;
&lt;p&gt;Create a new Service Provider in the WSO2 Identity Server to register our express application as one. Follow the given step by step guide to create new Service Provider and to register our express application enabling SAML SSO.&lt;/p&gt;
&lt;p&gt;Navigate to &lt;em&gt;Main (Tab) -&gt; Identity (Section) -&gt; Service Providers&lt;/em&gt; (Sub-section) and select &lt;em&gt;Add&lt;/em&gt;. The management console will display you the following screen to add a new service provider.&lt;/p&gt;
&lt;p&gt;Provide …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Service Provider Name: SampleExpressApp&lt;/li&gt;
&lt;li&gt;Description: Any valid description of the service provider&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 54.214285714285715%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA90lEQVQoz6WRbW+DIBRG+f8/cB/2wYx2FhAQKVpAXtzDXJZ0bROTndwYvAqe50p8iFqPO0opa22tdTsGuTpHKe37ixCScT4MMsb1YJE1lbd3ej6dBinx2RDjstwOFoGjm29aKylVzqk+46V2CIHSj67rhBDTZI0x9tqwO2jZ1nwKKaVM04QVrsjhg2fs0l+YHo2bF0xknpcMpZTyAwROcV2x2ramh9fkwDmmJxX+glRqNOalNiLB/HtzI6V1EAwReDvhB6TAfNZ7YoxtM2JprZ1zpdZcYNgeQGcv4L1HI5fyp1pmzthn3yM0DiqNu1H/3pUHyPYPvgA2S34T1R2LoAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Add New Service Provider&quot;
        title=&quot;&quot;
        src=&quot;/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-fb8a0.png&quot;
        srcset=&quot;/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-1a291.png 148w,
/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-2bc4a.png 295w,
/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-fb8a0.png 590w,
/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-526de.png 885w,
/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-fa2eb.png 1180w,
/static/add_new_service_provider_01-c3cae11c8052e11a17acf9489db63826-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;And click &lt;em&gt;Register&lt;/em&gt; to register and create a new service provider. Afterward, the management console will display you the following screen to configure claim configuration, inbound authentication configurations and etc.&lt;/p&gt;
&lt;p&gt;Expand the &lt;em&gt;Claim Configurations (accordion)&lt;/em&gt; to configure wanted claims and subject claim URI. We will be using the &lt;em&gt;Local Claim Dialect&lt;/em&gt; as the &lt;em&gt;Claim mapping Dialect&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can add all your wanted (requested claims) by clicking on the Add Claim URI button and selecting one from the drop-down menu&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For the demo, we will be selecting the following claims&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://wso2.org/claims/emailaddress&quot;&gt;http://wso2.org/claims/emailaddress&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wso2.org/claims/username&quot;&gt;http://wso2.org/claims/username&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wso2.org/claims/role&quot;&gt;http://wso2.org/claims/role&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And choose &lt;code class=&quot;language-text&quot;&gt;http://wso2.org/claims/emailaddress&lt;/code&gt; as the &lt;em&gt;Subject Claim URI&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.35714285714286%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABIUlEQVQoz32SiY6DMAxE8/+/WMq5KiAoEHJBufqabFeV2u4ochywxx4nQkpZFAV2HMe+79m9qzBhjUqZT5imSWzbtq7rcRyjHGBpmrZpW+fc7YllWY4vEPwjFIplmeHTWmOttesLti8QEOweIcy7fDn+R4gXvuaNs7OmaRpke5lqnmdUBfuH2QOHLPIFPdd13XU9zWoP37zxO95j6bdlrSNeMBLG66yT2lz7AbVQQus7Wr6pJQYKQethnr0c0uLn0fkwGGs6qUal5yeooZXk0nDCEWlifw6H2Ph8juP42nXWkMwVHK+lJqu0dbtvCosmgXpeCGQwXS4XKrdtyxFVYTAfr+o3OeSUZVlVVZ7nWZalaUr90+kURRF+kiQE1G+gxh3oHXqLalXiigAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Claim configurations&quot;
        title=&quot;&quot;
        src=&quot;/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-fb8a0.png&quot;
        srcset=&quot;/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-1a291.png 148w,
/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-2bc4a.png 295w,
/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-fb8a0.png 590w,
/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-526de.png 885w,
/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-fa2eb.png 1180w,
/static/claim_configurations-0c50dd7a5158057726e68c22f8d1e7a0-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Next, expand the &lt;em&gt;Inbound Authentication Configuration (accordion)&lt;/em&gt; and click on &lt;em&gt;SAML2 Web SSO Configuration&lt;/em&gt; and select &lt;em&gt;Configure&lt;/em&gt; to configure SAML web SSO for our implemented express application.&lt;/p&gt;
&lt;p&gt;Configure the SAML SSO as follows …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Issuer: SampleExpressApp&lt;/li&gt;
&lt;li&gt;Assertion Consumer URLs: &lt;a href=&quot;http://localhost:3000/saml/consume&quot;&gt;http://localhost:3000/saml/consume&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Enable Response Signing: True&lt;/li&gt;
&lt;li&gt;Enable Signature Validation in Authentication Requests and Logout Requests: False&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;To enable signature validate in both authentication requests and logout requests, please refer the &lt;code class=&quot;language-text&quot;&gt;Certificates and Signing&lt;/code&gt; section.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Enable Single Logout: True&lt;/li&gt;
&lt;li&gt;SLO Response URL: &lt;a href=&quot;http://localhost:3000/app/home&quot;&gt;http://localhost:3000/app/home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;SLO Request URL: &lt;a href=&quot;http://localhost:3000/app/home&quot;&gt;http://localhost:3000/app/home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Enable Attribute Profile: True&lt;/li&gt;
&lt;li&gt;Include Attributes in the Response Always: True&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 59.21428571428571%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABBklEQVQoz41SCW6EMAzk/4+stISwFMhBTshFB9KVqqosHRlFcjIej01jjFFKGWO11jGmlPL/o+FCdZQKLqyx629sbwJocPR9zzmPQIo5p4zvhZq8igZtj+Nord1CQDnG5TQLZfyirT/rrxdxKKM0+vPeQ3Dfd++8XJTS2vs1hi3EuF+glNI454ZhgHI8383z3LYtIS1jDPe14iXZO0cpnacJBpGChY8Tj8cDjm7Ih0/GIBhDQAqT6zqM/4AQYr/GqbzGlnSEEGwbFuqKMOd6fUOOKeMPAS3jaSlCSNp/YuDG+ntyygWjhlpNCcEI6Z7PAf2/MfxN3mLh0ixS/lhYqcgv/NkCkl9eu7vpCEGQawAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;SAML SSO configurations&quot;
        title=&quot;&quot;
        src=&quot;/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-fb8a0.png&quot;
        srcset=&quot;/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-1a291.png 148w,
/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-2bc4a.png 295w,
/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-fb8a0.png 590w,
/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-526de.png 885w,
/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-fa2eb.png 1180w,
/static/saml_sso_configurations-7c7bc03080f8a2312a77f25dcb526624-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;And select &lt;em&gt;Register&lt;/em&gt; to register your SAML SSO configurations and the management console will prompt you to the previous configuration screen. Leave other configurations as it is and click on &lt;em&gt;Update&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Expand Local &amp;#x26; Outbound Authentication Configuration and select Default as the Authentication Type and enable Use user store domain in roles configuration.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Express Application&lt;/h3&gt;
&lt;p&gt;After implementing the express application, create a &lt;code class=&quot;language-text&quot;&gt;.env&lt;/code&gt; file in the root path and enter the following properties.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Change the &lt;code class=&quot;language-text&quot;&gt;SAML_ENTRYPOINT&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;SAML_LOGOUTURL&lt;/code&gt; properties if the IP-address and ports are different from default configurations&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;env&quot;&gt;&lt;pre class=&quot;language-env&quot;&gt;&lt;code class=&quot;language-env&quot;&gt;SESSION_SECRET=&amp;quot;a well secured secret&amp;quot;

SAML_ENTRYPOINT=&amp;quot;https://localhost:9443/samlsso&amp;quot;
SAML_ISSUER=&amp;quot;SampleExpressApp&amp;quot;
SAML_PROTOCOL=&amp;quot;http://&amp;quot;
SAML_LOGOUTURL=&amp;quot;https://localhost:9443/samlsso&amp;quot;

WSO2_ROLE_CLAIM=&amp;quot;http://wso2.org/claims/role&amp;quot;
WSO2_EMAIL_CLAIM=&amp;quot;http://wso2.org/claims/emailaddress&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Certificates and Signing&lt;/h2&gt;
&lt;p&gt;To validate both authentication request and logout requests, we need to add relevant application certificates and private keys in both Identity Server and in our express application.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For this demo, we will be using the default wso2carbon key-store to generate application certificates and private keys. The wso2carbon key-store can be found inside &amp;#x3C;IS_HOME&gt;/repository/resources/security directory&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To export the certificate from the key-store, execute the following command from the &lt;code class=&quot;language-text&quot;&gt;security&lt;/code&gt; folder&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;keytool -export -keystore wso2carbon.jks -alias wso2carbon -file wso2carbon.crt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above-generated certificate will be in binary format. Use the following command to convert the above binary encoded certificate to PEM encoded certificate&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;openssl x509 -inform der -in wso2carbon.crt -out wso2carbon.pem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Copy the generated &lt;code class=&quot;language-text&quot;&gt;wso2carbon.pem&lt;/code&gt; file to another easily accessible folder&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Configure: WSO2 Identity Server&lt;/h3&gt;
&lt;p&gt;Open the Identity Server and navigate to &lt;em&gt;Main (Tab) -&gt; Identity (Section) -&gt; Service Providers (Sub-section)&lt;/em&gt; -&gt; select &lt;em&gt;List&lt;/em&gt; and &lt;em&gt;Edit (our service provider)&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;In the Basic Information panel, select the &lt;code class=&quot;language-text&quot;&gt;Choose File&lt;/code&gt; button which is associated with the &lt;em&gt;Application Certificate&lt;/em&gt; field. Choose the above-created &lt;code class=&quot;language-text&quot;&gt;wso2carbon.pem&lt;/code&gt; file and open.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 45.07142857142858%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABAklEQVQoz42Q4W6DIBSFef+n6v7Udkn7AHNmrtoWEBVBkWrVHXC2iemSfbkCAvce7iF1XReltPZ2H4b7Qr+KV+A+kVKeTklVKVlVeZ5jdCj1OyqltK6bZhW6aay1ZPCC0zRprRjnpafr+8HjFPzpS0jXdW3bjuMoZRlFUZqmlFLGGF4B9bmL4Q8I0ubacfz1ttns97v3hTAMsT8urGRd8uOnLESSXigTPCvQrjEGLrr6Xhjy6ODhFt4LyWdy2xq4BXOUM8igFzTv/dKzZ1jgAgz2ViqUIJji+JvzDLtCiCxzAXKPeJIvFPiQDgFyvdLtNgiC3eFw/Ag/z+fLfyJJUrj6A5rb/wZrrgblAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Application certificate configurations&quot;
        title=&quot;&quot;
        src=&quot;/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-fb8a0.png&quot;
        srcset=&quot;/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-1a291.png 148w,
/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-2bc4a.png 295w,
/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-fb8a0.png 590w,
/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-526de.png 885w,
/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-fa2eb.png 1180w,
/static/application_certificate_configurations-3bab67100dad78a7e78d1585892c6b0d-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Next, expand the &lt;em&gt;Inbound Authentication Configuration (accordion)&lt;/em&gt; and click on &lt;em&gt;SAML2 Web SSO Configuration&lt;/em&gt; and select Edit to update our SAML web SSO configurations. Enable signature validation in authentication requests and logout requests.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 45.07142857142858%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA10lEQVQoz4VQ0W6EIBD0//+vTZo+3KnFnAuFyCq6KNA5vTR96HkTlsAys0Om8sxa6xCCiCwizDxNk8Q4LwuuR/Pfta5rhZp35JxLKTiM4wh9BGTZtq08AfgV2NZaOBw8IlJKdV2HEXhPKZ2JQWrb1jlXduemaS47oMfHy3M8nKnvjaYE55ypv9XXa13XmOK9fyEerL+8v6nPD6bbZPRsTTCU5oDnkz8/xDEmZ93IDGeswTmtCZkjyHKKuxgle+5Hyxj9pRT2e2AvxRLTtx3Y+78j8mnOv5wfUoENQgqHx5AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Enable signature validation&quot;
        title=&quot;&quot;
        src=&quot;/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-fb8a0.png&quot;
        srcset=&quot;/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-1a291.png 148w,
/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-2bc4a.png 295w,
/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-fb8a0.png 590w,
/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-526de.png 885w,
/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-fa2eb.png 1180w,
/static/enable_signature_validation-1b46f4ac6e490cc3a0843f6be12f37a0-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Click &lt;em&gt;Update&lt;/em&gt; and &lt;em&gt;Update&lt;/em&gt; again to update the service provider configurations.&lt;/p&gt;
&lt;h3&gt;Configure: Passport &amp;#x26; Express App&lt;/h3&gt;
&lt;p&gt;Generate a private certificate for our express application. Execute the following commands to generate a private certificate from the default wso2carbon key-store.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Use &lt;code class=&quot;language-text&quot;&gt;wso2carbon&lt;/code&gt; as the password for any password-prompts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;keytool -importkeystore -srckeystore wso2carbon.jks -destkeystore wso2carbon.p12 -deststoretype PKCS12 -srcalias wso2carbon -deststorepass wso2carbon -destkeypass wso2carbon
-------------
openssl pkcs12 -in wso2carbon.p12  -nodes -nocerts -out private-key.pem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create folder named &lt;code class=&quot;language-text&quot;&gt;security&lt;/code&gt; in the root path of our express application and place both the generated &lt;code class=&quot;language-text&quot;&gt;private-key.pem&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;wso2carbon.pem&lt;/code&gt; inside.&lt;/p&gt;
&lt;p&gt;After placing the certificates, update the passport SAML strategy as follows&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist97210327&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-strategy-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; passport &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;passport&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; saml &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;passport-saml&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-smi&quot;&gt;Strategy&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; saml strategy for passport&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;var&lt;/span&gt; strategy &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;saml&lt;/span&gt;(&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	{&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		entryPoint&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide &lt;span class=&quot;pl-c1&quot;&gt;SAML&lt;/span&gt; entry point url &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt;localhost:9443/samlsso&amp;gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		issuer&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide &lt;span class=&quot;pl-c1&quot;&gt;SAML&lt;/span&gt; issuer name &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; SampleExpressApp&lt;span class=&quot;pl-k&quot;&gt;&amp;gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		protocol&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide the protocol used &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; http&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt;&amp;gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		logoutUrl&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;&amp;lt;&lt;/span&gt;provide the logout url &lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt;localhost:9443/samlsso&amp;gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    		privateCert&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;fs&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;readFileSync&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;./security/private-key.pem&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;utf-8&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;),&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		cert&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;fs&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;readFileSync&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;./security/wso2carbon.pem&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;utf8&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	},&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	(&lt;span class=&quot;pl-smi&quot;&gt;profile&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot;&gt;done&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;		&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; your body implementation on success&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;	}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; register the strategy with passport&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-strategy-js-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-strategy-js-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;use&lt;/span&gt;(strategy);&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/d5c4fdcd7adad232b6f7f018fbc76efd/raw/388921bbf390824c3d3fb776c0452b25db6eedf6/strategy.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/d5c4fdcd7adad232b6f7f018fbc76efd#file-strategy-js&quot;&gt;strategy.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h2&gt;Run &amp;#x26; Test&lt;/h2&gt;
&lt;h3&gt;Run&lt;/h3&gt;
&lt;p&gt;Run the express application by executing the given command from the root folder&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;npm start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also, start your WSO2 Identity Server instance using the following command from your &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS_HOME&amp;gt;/bin&lt;/code&gt; directory&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;sh wso2server.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Test&lt;/h3&gt;
&lt;p&gt;Open your favorite browser and navigate to &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000/app&lt;/code&gt;. The browser will redirect to the WSO2 Identity Server’s sign-in page to enter the login credentials.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For this demo, you can use &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; as both the username and password to sign in with the WSO2 Identity Server&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.78571428571428%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAA40lEQVQoz43O3WrCMBQH8DxQd9Hbro8nbt47Cei9L7DpG0zmlXcykIlik7XQxpmlTU4+XOmYFNpZf4QQ/jmHc9C5xlU3BzddJZMlHS0IXpDRKxm/0ZNyl4ILVDSIvIizY/olMl6k1SkfZdiEVAMAKCWNMfUhoFr815x/80yIo4ZcK2HNb9jdLEEbJRKerjnbMLbLTx8GGIDubpZSOuvms+fHhx7GQ4yfBoP+fPZirS2/utfWGij9XL9vtvtDHCdRRBhj7WvbNueG1jJE/lBKo5oqi65D95UgCMIw9H3f87y7m/0A1GYI46aYegUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;WSO2 Identity Server: Login Page for SAML&quot;
        title=&quot;&quot;
        src=&quot;/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-fb8a0.png&quot;
        srcset=&quot;/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-1a291.png 148w,
/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-2bc4a.png 295w,
/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-fb8a0.png 590w,
/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-526de.png 885w,
/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-fa2eb.png 1180w,
/static/idp_login_page-7081a0e2a34cb5524e2d42ed074fc5f0-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;After presenting the login credentials, the Identity Server will prompt a user consent page to either approve or deny requested claims. Choose &lt;em&gt;Select All&lt;/em&gt; and &lt;em&gt;Approve&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.78571428571428%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAA/UlEQVQoz42Ry0rEMBSG+0B10W3tYwq6cSWCO59CXYiCCxHdiNNLOp1pp2k69FyS1Ey9YDtS5uODcMg5/CfE68ewsdfP64uH/OqpOL8Xp7fp2V16cpNcPubaTHp7r5sAuJHVsvgoVnG+ikWxEMtFUaaVqt3dpNfDMUQEQI2sCTpGcBKC0dRbi3uMhgFRM60VvopNpjBpMJWQSIhrUMBMNDf8m6yabdt27RZa1F8ia5pPdjCzUlJWGXcldrI37aCy2q01mwwAvdFvcfnyLqxBYtL6W7f0P282e1hr3TfsDmtd9ccpXvaDECIdSJKdh+AdD4RhGEVREAS+7x8dzCdXiQ236CdkDQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;WSO2 Identity Server: User Consent Page&quot;
        title=&quot;&quot;
        src=&quot;/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-fb8a0.png&quot;
        srcset=&quot;/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-1a291.png 148w,
/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-2bc4a.png 295w,
/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-fb8a0.png 590w,
/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-526de.png 885w,
/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-fa2eb.png 1180w,
/static/idp_consent_page-a63a2fbdfa5dea4a012d59f621c4f52f-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;After successful authentication, the browser will redirect and displays you the logged-in page of our express application.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 23.357142857142854%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAATElEQVQY02P48ePH+w8fP3/58uPnr+8/fiLQTxAJFMSFgLIM/2HgFRi8efP2JZB6/frZs+fv3r3/jxcgNP8Bg79//yKTxGomA1CkGQClQydVm7KWaQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Successful log-in&quot;
        title=&quot;&quot;
        src=&quot;/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-fb8a0.png&quot;
        srcset=&quot;/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-1a291.png 148w,
/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-2bc4a.png 295w,
/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-fb8a0.png 590w,
/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-526de.png 885w,
/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-fa2eb.png 1180w,
/static/sp_logged_page-e2ea095155260cc50ee81c27357968eb-4f5a6.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Navigate to &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000/app/logout&lt;/code&gt; to log-out from the SAML SSO session.&lt;/p&gt;
&lt;h2&gt;GitHub&lt;/h2&gt;
&lt;br&gt;
&lt;a class=&quot;ul-disabled&quot; href=&quot;https://github.com/athiththan11/Passport-SAML-WSO2&quot;&gt;
    &lt;div class=&quot;card&quot;&gt;
        &lt;div class=&quot;card-horizontal&quot;&gt;
            &lt;div class=&quot;card-body py-4 px-5&quot;&gt;
                &lt;h4 class=&quot;card-title mt-4&quot;&gt;Passport SAML WSO2&lt;/h4&gt;
                &lt;p&gt;A sample express application with Passport-SAML for WSO2 SAML2 SSO&lt;/p&gt;
                &lt;footer class=&quot;blockquote-footer&quot;&gt;
                    &lt;small class=&quot;text-muted&quot;&gt;
                        athiththan11
                    &lt;/small&gt;
                &lt;/footer&gt;
            &lt;/div&gt;
            &lt;div class=&quot;img-square-wrapper&quot;&gt;
                &lt;img class=&quot;rounded mb-0&quot; width=&quot;220.172&quot; src=&quot;https://avatars3.githubusercontent.com/u/29927177?s=460&amp;amp;v=4&quot; alt&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/a&gt;
&lt;hr class=&quot;three--dots&quot;/&gt;</content:encoded></item><item><title><![CDATA[Custom Class Mediators to Convert Payloads]]></title><description><![CDATA[Intro Class mediators provide an extended platform to develop user-specific implementations and custom mediation logic in the form of Java…]]></description><link>https://stackcheats.github.io/Custom-Class-Mediators-to-Convert-Payloads/</link><guid isPermaLink="false">https://stackcheats.github.io/Custom-Class-Mediators-to-Convert-Payloads/</guid><pubDate>Wed, 17 Jul 2019 13:25:00 GMT</pubDate><content:encoded>&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;Class mediators provide an extended platform to develop user-specific implementations and custom mediation logic in the form of Java classes. In this sheet, we will be developing a custom class mediator to read, manipulate and convert (change) a simple payload to meet our requirements.&lt;/p&gt;
&lt;p class=&quot;quote text-secondary&quot;&gt;
    Class mediators are designed to use on user-specific custom implementations when there are no other built-in mediators to solve the requirement
&lt;/p&gt;
&lt;h3&gt;Requirement&lt;/h3&gt;
&lt;p&gt;The requirement is to develop a simple custom class mediator to read and change the value of the &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; attribute of a given payload from “medium” to “Athiththan”.&lt;/p&gt;
&lt;p&gt;The actual payload and the expected converted (changed) payload formats are given below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;-------------------------------------
// request payload || original
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;WSO2 Class Mediator: Convert Payload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dev&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;medium&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
-------------------------------------
// mediated payload || tconverted
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;WSO2 Class Mediator: Convert Payload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dev&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Athiththan&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
-------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Configure&lt;/h2&gt;
&lt;p&gt;To fabricate our custom class mediator or to generate a maven project, we can follow either&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;using the given &lt;code class=&quot;language-text&quot;&gt;pom.xml&lt;/code&gt; file to generate a maven project&lt;/li&gt;
&lt;li&gt;using a custom-developed maven-archetype to generate a maven project&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Following sections presents the steps on using given &lt;code class=&quot;language-text&quot;&gt;pom.xml&lt;/code&gt; and using custom developed-archetype to generate maven projects for our custom implementation.&lt;/p&gt;
&lt;h3&gt;pom.xml&lt;/h3&gt;
&lt;p&gt;Create a maven quick-start project and replace the dependencies with the following&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- change the packaging to bundle (from jar) to support OSGi --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;packaging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jar&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;packaging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- apache synapse and related dependencies --&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.apache.synapse&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;synapse-core&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2.1.7-wso2v60&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.apache.axis2.wso2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;axis2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1.6.1.wso2v20&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;commons-logging&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;commons-logging&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1.1.1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;junit&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;junit&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;4.11&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;scope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;test&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;scope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;repositories&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;wso2-nexus&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;id&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;http://maven.wso2.org/nexus/content/groups/wso2-public/&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;releases&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;updatePolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;daily&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;updatePolicy&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;checksumPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;ignore&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;checksumPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;releases&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;repositories&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pluginRepositories&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pluginRepository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;wso2-nexus&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;id&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;http://maven.wso2.org/nexus/content/groups/wso2-public/&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;releases&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;enabled&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;updatePolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;daily&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;updatePolicy&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;checksumPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;ignore&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;checksumPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;releases&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pluginRepository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pluginRepositories&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;plugins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;maven-compiler-plugin&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2.0&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1.8&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1.8&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- build plugin for OSGi Bundle support --&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.apache.felix&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;maven-bundle-plugin&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2.3.4&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;extensions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;extensions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;instructions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Bundle-SymbolicName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                        ${groupId}
                    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Bundle-SymbolicName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Bundle-Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${groupId}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Bundle-Name&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;&amp;lt;Export-Package&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                        ${groupId}.*,
                    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Export-Package&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;Import-Package&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                        *; resolution:=optional
                    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;Import-Package&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;instructions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;plugins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Build using Maven Archetype&lt;/h3&gt;
&lt;p&gt;Clone or download the custom-developed &lt;a href=&quot;https://github.com/athiththan11/WSO2-Mediators-Maven-Archetype&quot;&gt;maven-archetype&lt;/a&gt; and run the following command to build and install the archetype locally on your machine to generate boilerplates for our custom class mediators.&lt;/p&gt;
&lt;br&gt;
&lt;a class=&quot;ul-disabled&quot; href=&quot;https://github.com/athiththan11/WSO2-Mediators-Maven-Archetype&quot;&gt;
    &lt;div class=&quot;card&quot;&gt;
        &lt;div class=&quot;card-horizontal&quot;&gt;
            &lt;div class=&quot;card-body py-4 px-5&quot;&gt;
                &lt;h4 class=&quot;card-title mt-4&quot;&gt;WSO2 Mediators Maven Archetype&lt;/h4&gt;
                &lt;p&gt;Maven Archetype for WSO2 Class Mediators&lt;/p&gt;
                &lt;footer class=&quot;blockquote-footer&quot;&gt;
                    &lt;small class=&quot;text-muted&quot;&gt;
                        athiththan11
                    &lt;/small&gt;
                &lt;/footer&gt;
            &lt;/div&gt;
            &lt;div class=&quot;img-square-wrapper&quot;&gt;
                &lt;img class=&quot;rounded mb-0&quot; width=&quot;220.172&quot; src=&quot;https://avatars3.githubusercontent.com/u/29927177?s=460&amp;amp;v=4&quot; alt&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/a&gt;
&lt;br&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;mvn clean install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, execute the following command to generate a Maven project (boilerplate)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Change the command according to your required Group ID and Artifact ID arguments&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;mvn archetype:generate  -DarchetypeGroupId=com.athiththan.wso2     \
                        -DarchetypeArtifactId=wso2-mediators       \
                        -DarchetypeVersion=1.0.0                   \
                        -DgroupId=&amp;lt;Your Group ID&amp;gt;                  \
                        -DartifactId=&amp;lt;Your Artifact ID&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Development&lt;/h2&gt;
&lt;h3&gt;Class Mediator&lt;/h3&gt;
&lt;p&gt;We can develop a custom Class mediator by implementing the &lt;code class=&quot;language-text&quot;&gt;Mediator&lt;/code&gt; class or by extending the &lt;code class=&quot;language-text&quot;&gt;AbstractMediator&lt;/code&gt; class. In this sheet, We will discuss developing a custom class mediator by extending the &lt;code class=&quot;language-text&quot;&gt;org.apache.synapse.mediators.AbstractMediator&lt;/code&gt; class.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The custom mediation logic has to defined inside the &lt;code class=&quot;language-text&quot;&gt;mediate()&lt;/code&gt; method to get execute&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A simple class mediator implementation to convert the name attribute from &lt;code class=&quot;language-text&quot;&gt;medium&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;Athiththan&lt;/code&gt; is presented below.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist96097214&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-custommediator-java&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-java &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;&amp;lt;your&lt;/span&gt; package namespace&lt;span class=&quot;pl-k&quot;&gt;&amp;gt;&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;org.apache.synapse.MessageContext&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;org.apache.synapse.commons.json.JsonUtil&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;org.apache.synapse.core.axis2.Axis2MessageContext&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;org.apache.synapse.mediators.AbstractMediator&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;org.json.JSONObject&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;CustomMediator&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;pl-e&quot;&gt;AbstractMediator&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;@Override&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;mediate&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;MessageContext&lt;/span&gt; &lt;span class=&quot;pl-v&quot;&gt;synCtx&lt;/span&gt;) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-smi&quot;&gt;org.apache.axis2.context&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;MessageContext&lt;/span&gt; axis2MessageContext &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; ((&lt;span class=&quot;pl-smi&quot;&gt;Axis2MessageContext&lt;/span&gt;) synCtx)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                .getAxis2MessageContext();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-k&quot;&gt;try&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;span class=&quot;pl-smi&quot;&gt;JSONObject&lt;/span&gt; jsonObject &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;JSONObject&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;JsonUtil&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;jsonPayloadToString(axis2MessageContext));&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (jsonObject&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;has(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;dev&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;) &lt;span class=&quot;pl-k&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; jsonObject&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getJSONObject(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;dev&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;has(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;name&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                    &lt;span class=&quot;pl-k&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;medium&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;equals((&lt;span class=&quot;pl-smi&quot;&gt;String&lt;/span&gt;) jsonObject&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getJSONObject(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;dev&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;get(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;name&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;))) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                jsonObject&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getJSONObject(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;dev&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;put(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;name&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Athiththan&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;span class=&quot;pl-smi&quot;&gt;JsonUtil&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;newJsonPayload(axis2MessageContext, jsonObject&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;toString(), &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        } &lt;span class=&quot;pl-k&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot;&gt;JSONException&lt;/span&gt; e) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            e&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;printStackTrace();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-custommediator-java-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-custommediator-java-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/71e8c5baa662c34b46a008ea824332a9/raw/54d5ffe949369ad2efe71207927293260d059d09/CustomMediator.java&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/71e8c5baa662c34b46a008ea824332a9#file-custommediator-java&quot;&gt;CustomMediator.java&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h2&gt;Build, Run &amp;#x26; Test&lt;/h2&gt;
&lt;h3&gt;Build&lt;/h3&gt;
&lt;p&gt;Execute the following command from our project root folder to build and package our custom mediator implementation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;mvn clean package&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As a result, maven will package our implementation as a JAR (Java Archive) artifact, which can be found inside the &lt;code class=&quot;language-text&quot;&gt;/target&lt;/code&gt; folder.&lt;/p&gt;
&lt;h3&gt;Run &amp;#x26; Test&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;For demonstration purposes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I will be mocking and using the &lt;code class=&quot;language-text&quot;&gt;Token_Endpoint&lt;/code&gt; of WSO2 API Manager (2.6.0) and will be referring to the installation path of WSO2 API-M as &lt;code class=&quot;language-text&quot;&gt;&amp;lt;API-M_HOME&amp;gt;&lt;/code&gt; and our JAR artifact as &lt;code class=&quot;language-text&quot;&gt;CM-IMPL-JAR&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copy the &lt;code class=&quot;language-text&quot;&gt;CM-IMPL_JAR&lt;/code&gt; from the &lt;code class=&quot;language-text&quot;&gt;/target&lt;/code&gt; folder and paste it inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;API-M_HOME&amp;gt;/repository/components/lib/&lt;/code&gt; directory&lt;/li&gt;
&lt;li&gt;Navigate to &lt;code class=&quot;language-text&quot;&gt;&amp;lt;API-M_HOME&amp;gt;/repository/deployment/server/synapse-configs/default/api/&lt;/code&gt; and open and edit the inSequence tag of the &lt;code class=&quot;language-text&quot;&gt;_TokenAPI_.xml&lt;/code&gt; file as follows&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;inSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- &amp;lt;property name=&quot;uri.var.portnum&quot; expression=&quot;get-property(&apos;keyManager.port&apos;)&quot;/&gt;
    &amp;lt;property name=&quot;uri.var.hostname&quot; expression=&quot;get-property(&apos;keyManager.hostname&apos;)&quot;/&gt;
    &amp;lt;send&gt;
        &amp;lt;endpoint&gt;
            &amp;lt;http uri-template=&quot;https://{uri.var.hostname}:{uri.var.portnum}/oauth2/token&quot;&gt;
                &amp;lt;timeout&gt;
                    &amp;lt;duration&gt;60000&amp;lt;/duration
                    &amp;lt;responseAction&gt;fault&amp;lt;/responseAction&gt;
                &amp;lt;/timeout&gt;
            &amp;lt;/http&gt;
        &amp;lt;/endpoint&gt;
    &amp;lt;/send&gt; --&gt;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- convert dev.name to athiththan --&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;class&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&amp;lt;YOUR PACKAGE NAME&gt;.&amp;lt;CLASS NAME&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;respond&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;inSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Replace &lt;code class=&quot;language-text&quot;&gt;&amp;lt;YOUR PACKAGE NAME&amp;gt;.&amp;lt;CLASS NAME&amp;gt;&lt;/code&gt; with the actual package name and your Java class name.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For example …&lt;/p&gt;
&lt;p&gt;If you have implemented your class mediator implementation in a Java class named &lt;code class=&quot;language-text&quot;&gt;CustomClassMediator&lt;/code&gt; inside the &lt;code class=&quot;language-text&quot;&gt;com.sample.demos package&lt;/code&gt;, then it comes as &lt;code class=&quot;language-text&quot;&gt;com.sample.demos.CustomClassMediator&lt;/code&gt; resulting &lt;code class=&quot;language-text&quot;&gt;&amp;lt;class name=&amp;quot;com.sample.demos.CustomClassMediator&amp;quot; /&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;After pasting our &lt;code class=&quot;language-text&quot;&gt;CM-IMPL_JAR&lt;/code&gt; and editing the &lt;code class=&quot;language-text&quot;&gt;_TokenAPI_.xml&lt;/code&gt; file, start the WSO2 API Manager instance using the following command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;sh wso2server.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Use the following cURL command to execute the Token Endpoint of the WSO2 API Manager instance by replacing the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Your Host&amp;gt;&lt;/code&gt; tag with respective host value&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;curl -k --request POST \
    -d &amp;#39;{&amp;quot;post&amp;quot;:&amp;quot;WSO2 Class Mediator: Convert Payload&amp;quot;,&amp;quot;dev&amp;quot;:{&amp;quot;name&amp;quot;:&amp;quot;medium&amp;quot;}}&amp;#39; \
    -H &amp;quot;Content-Type: application/json&amp;quot; \
    https://&amp;lt;YOUR HOST&amp;gt;:8243/token&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After successful execution, we can observe the response as follows&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;WSO2 Class Mediator: Convert Payload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dev&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Athiththan&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;GitHub&lt;/h2&gt;
&lt;br&gt;
&lt;a class=&quot;ul-disabled&quot; href=&quot;https://github.com/athiththan11/Revamp-Mediator&quot;&gt;
    &lt;div class=&quot;card&quot;&gt;
        &lt;div class=&quot;card-horizontal&quot;&gt;
            &lt;div class=&quot;card-body py-2 px-5&quot;&gt;
                &lt;h4 class=&quot;card-title mt-4&quot;&gt;Revamp Mediator&lt;/h4&gt;
                &lt;p&gt;A custom mediation logic to convert payload attribute values using WSO2 Class Mediator extension&lt;/p&gt;
                &lt;footer class=&quot;blockquote-footer&quot;&gt;
                    &lt;small class=&quot;text-muted&quot;&gt;
                        athiththan11
                    &lt;/small&gt;
                &lt;/footer&gt;
            &lt;/div&gt;
            &lt;div class=&quot;img-square-wrapper&quot;&gt;
                &lt;img class=&quot;rounded mb-0&quot; width=&quot;220.172&quot; src=&quot;https://avatars3.githubusercontent.com/u/29927177?s=460&amp;amp;v=4&quot; alt&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/a&gt;
&lt;hr class=&quot;three--dots&quot;/&gt;</content:encoded></item><item><title><![CDATA[Custom Event Handlers for Password Validation]]></title><description><![CDATA[A Story Guide Stackcheats is a cheat-blog platform where developers and technical writers can create & write tech-cheats by owning user…]]></description><link>https://stackcheats.github.io/Custom-Event-Handlers-for-Password-Validation/</link><guid isPermaLink="false">https://stackcheats.github.io/Custom-Event-Handlers-for-Password-Validation/</guid><pubDate>Sat, 15 Jun 2019 09:30:03 GMT</pubDate><content:encoded>&lt;h2&gt;A Story Guide&lt;/h2&gt;
&lt;p&gt;Stackcheats is a cheat-blog platform where developers and technical writers can create &amp;#x26; write tech-cheats by owning user accounts. More importantly, Stackcheats has been using the WSO2 Identity Server as its identity and access management tool to manage user registrations and management tasks.&lt;/p&gt;
&lt;p&gt;A tech-developer named “Athiththan” have been requested to develop a custom component to validate the password against a list of defective passwords when users trying to update (renew).&lt;/p&gt;
&lt;h2&gt;Development&lt;/h2&gt;
&lt;p class=&quot;quote text-secondary&quot;&gt;
    WSO2 Identity Server (5.3.0 ≤ onwards) now supports to handle published events using an integrated event framework by extending `AbstractEventHandler`
&lt;/p&gt;
&lt;p&gt;So, Athiththan chose to develop the custom component as an event-handler listening to different password-update events to trigger and to validate the given password.
We can use the following custom maven archetype to generate boilerplate to extend and implement custom event-handlers for WSO2 Identity Server.&lt;/p&gt;
&lt;h3&gt;Handle Event&lt;/h3&gt;
&lt;p&gt;The AbstractEventHandler contains a method named handleEvent() which gets triggered whenever a pre-registered event is made upon the Identity Server. So, for this custom implementation, he will be using the following two publish events …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;PRE_UPDATE_CREDENTIAL&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;PRE_UPDATE_CREDENTIAL_BY_ADMIN&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist97067820&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-defectivepasswordvalidatoreventhandler-java&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-java &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;@Override&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; handleEvent(&lt;span class=&quot;pl-smi&quot;&gt;Event&lt;/span&gt; event) throws &lt;span class=&quot;pl-smi&quot;&gt;IdentityEventException&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (log&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;isDebugEnabled()) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        log&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;debug(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;handleEvent() invoked&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot;&gt;IdentityEventConstants&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-smi&quot;&gt;Event&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;PRE_UPDATE_CREDENTIAL&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;equals(event&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getEventName())&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;span class=&quot;pl-k&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;IdentityEventConstants&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-smi&quot;&gt;Event&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;PRE_UPDATE_CREDENTIAL_BY_ADMIN&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;equals(event&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getEventName())) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-smi&quot;&gt;Object&lt;/span&gt; credential &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getEventProperties()&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;get(&lt;span class=&quot;pl-smi&quot;&gt;IdentityEventConstants&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-smi&quot;&gt;EventProperty&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;CREDENTIAL&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-k&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;pl-smi&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getInstance()&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;validate(credential)) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;span class=&quot;pl-k&quot;&gt;if&lt;/span&gt; (log&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;isDebugEnabled()) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                log&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;debug(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;given password is defective&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            &lt;span class=&quot;pl-k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;Utils&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;handleEventException(&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                    &lt;span class=&quot;pl-smi&quot;&gt;DefectivePasswordValidatorConstants&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-smi&quot;&gt;ErrorMessages&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;ERROR_CODE_CRACKED_PASSWORD_VALIDATION&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatoreventhandler-java-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/2b8b5690bf65b7d16eb2973bbaa22442/raw/d6a5eff4da283d5eb0f008f363644be07057bd0c/DefectivePasswordValidatorEventHandler.java&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/2b8b5690bf65b7d16eb2973bbaa22442#file-defectivepasswordvalidatoreventhandler-java&quot;&gt;DefectivePasswordValidatorEventHandler.java&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h3&gt;Password Validator&lt;/h3&gt;
&lt;p&gt;Given below is the implementation to validate the given password against a list of defective passwords. The given implementation reads all the defective passwords from a text file named passwords.txt which is placed inside the &lt;code class=&quot;language-text&quot;&gt;/&amp;lt;IS_HOME&amp;gt;/deployments/server/defective&lt;/code&gt; folder.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For testing purposes, the given implementation can be modified to work with pre-defined list of defective passwords using ArrayList&amp;#x3C;&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div id=&quot;gist97082108&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-defaultdefectivepasswordvalidator-java&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-java &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;pl-e&quot;&gt;DefectivePasswordValidator&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;List&amp;lt;&lt;span class=&quot;pl-smi&quot;&gt;String&lt;/span&gt;&amp;gt;&lt;/span&gt; crackedPasswords &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;ArrayList&amp;lt;&amp;gt;&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt; dPasswordValidator &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;Logger&lt;/span&gt; log &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;LoggerFactory&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getLogger(&lt;span class=&quot;pl-smi&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;class);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt;() {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;getInstance&lt;/span&gt;() {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; dPasswordValidator;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;     * initialize defective password values from the given text file&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;     &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;@Override&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;initValues&lt;/span&gt;() {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        crackedPasswords &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;ArrayList&amp;lt;&amp;gt;&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-k&quot;&gt;try&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            crackedPasswords &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;Files&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;readAllLines(&lt;span class=&quot;pl-smi&quot;&gt;Paths&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;get(&lt;span class=&quot;pl-smi&quot;&gt;DefectivePasswordValidatorConstants&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;PASSWORD_FILE_PATH&lt;/span&gt;),&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                    &lt;span class=&quot;pl-smi&quot;&gt;StandardCharsets&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;UTF_8&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        } &lt;span class=&quot;pl-k&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot;&gt;IOException&lt;/span&gt; e) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;            log&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;error(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Exception occured while reading and initializing values from &lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                    &lt;span class=&quot;pl-k&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;DefectivePasswordValidatorConstants&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;PASSWORD_FILE_NAME&lt;/span&gt;, e);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;     * validate method&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;     &lt;span class=&quot;pl-c&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;@Override&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;validate&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;pl-v&quot;&gt;credential&lt;/span&gt;) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;!&lt;/span&gt;crackedPasswords&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;contains((&lt;span class=&quot;pl-smi&quot;&gt;String&lt;/span&gt;) credential);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defaultdefectivepasswordvalidator-java-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/91f041fb6285235d2708580e914ce13c/raw/8c1e4b9f69e2eb0454002e789f96dde4f8032fde/DefaultDefectivePasswordValidator.java&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/91f041fb6285235d2708580e914ce13c#file-defaultdefectivepasswordvalidator-java&quot;&gt;DefaultDefectivePasswordValidator.java&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h3&gt;OSGi Component&lt;/h3&gt;
&lt;p&gt;The custom event-handler has to be registered as a service component (OSGi) with the Identity Server components to work flawlessly. In order to register the custom implementation as a service component, he wrote a ServiceComponent class containing both activate and deactivate methods to register it with the Bundle Context.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist97068467&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-defectivepasswordvalidatorservicecomponent-java&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-java &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;@Activate&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; activate(&lt;span class=&quot;pl-smi&quot;&gt;ComponentContext&lt;/span&gt; context) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-k&quot;&gt;try&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        context&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getBundleContext()&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;registerService(&lt;span class=&quot;pl-smi&quot;&gt;AbstractEventHandler&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;class&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getName(),&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;                &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;DefectivePasswordValidatorEventHandler&lt;/span&gt;(), &lt;span class=&quot;pl-c1&quot;&gt;null&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; initialize all defective passwords from the text file&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-smi&quot;&gt;DefaultDefectivePasswordValidator&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;getInstance()&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;initValues();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; initialize watchservice on /defective directory&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        initializeWatchService();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    } &lt;span class=&quot;pl-k&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot;&gt;Throwable&lt;/span&gt; e) {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        log&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;error(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Error occured while initializing service component&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, e);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    }&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;@Deactivate&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-defectivepasswordvalidatorservicecomponent-java-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;void&lt;/span&gt; deactivate(&lt;span class=&quot;pl-smi&quot;&gt;ComponentContext&lt;/span&gt; context) { }&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/b1156885c454c5613fbb953c21fb7ca4/raw/939883d0968b52d80aff4e0b686f6f2d8793dbb4/DefectivePasswordValidatorServiceComponent.java&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/b1156885c454c5613fbb953c21fb7ca4#file-defectivepasswordvalidatorservicecomponent-java&quot;&gt;DefectivePasswordValidatorServiceComponent.java&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h2&gt;Prepare&lt;/h2&gt;
&lt;h3&gt;Defective Passwords Text File&lt;/h3&gt;
&lt;p&gt;Create a file called passwords.txt and add all defective-passwords (cracked passwords) at each line. These defined cracked passwords are the values, will be used to validate the entered password.&lt;/p&gt;
&lt;p&gt;Create a folder named defective inside the &amp;#x3C;IS_HOME&gt;/repository/deployment/server directory and place the above created passwords.txt file in it.&lt;/p&gt;
&lt;h3&gt;WSO2 Identity Server&lt;/h3&gt;
&lt;p&gt;Navigate to &amp;#x3C;IS_HOME&gt;/repository/conf/identity directory and open the identity-event.properties file and add the following lines at the bottom to subscribe to the published events.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Please update the digit value according to your &lt;code class=&quot;language-text&quot;&gt;identity-event.properties&lt;/code&gt; file (last used value + 1)&lt;/p&gt;
&lt;p&gt;The given &lt;code class=&quot;language-text&quot;&gt;module.name&lt;/code&gt; value is the same value which configured in the &lt;code class=&quot;language-text&quot;&gt;getName()&lt;/code&gt; method in &lt;code class=&quot;language-text&quot;&gt;DefectivePasswordValidatorEventHandler&lt;/code&gt; class&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div id=&quot;gist97082148&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-identity-event-properties&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-ini &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-identity-event-properties-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-identity-event-properties-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;module.name.13&lt;/span&gt;=defectivePasswordValidator&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-identity-event-properties-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-identity-event-properties-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;defectivePasswordValidator.subscription.1&lt;/span&gt;=PRE_UPDATE_CREDENTIAL&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-identity-event-properties-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-identity-event-properties-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;defectivePasswordValidator.subscription.2&lt;/span&gt;=PRE_UPDATE_CREDENTIAL_BY_ADMIN&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/fc5bc7e1b8e46124ed0fa993a4324580/raw/841ceca5796578427010849a8f37bf01ce3c6475/identity-event.properties&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/athiththan11/fc5bc7e1b8e46124ed0fa993a4324580#file-identity-event-properties&quot;&gt;identity-event.properties&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h2&gt;Build, Run &amp;#x26; Test&lt;/h2&gt;
&lt;h3&gt;Build&lt;/h3&gt;
&lt;p&gt;You can clone or download the custom event-handler implementation project done by Athiththan from GitHub and build it using the following command …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;mvn clean package&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Run&lt;/h3&gt;
&lt;p&gt;After a successful build, copy the &lt;code class=&quot;language-text&quot;&gt;defective-password-validator-1.0.0.jar&lt;/code&gt; artifact and place it inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS_HOME&amp;gt;/repository/components/dropins&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;Start your WSO2 Identity Server by navigating to the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;IS_HOME&amp;gt;/bin&lt;/code&gt; folder and executing the following command …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;sh wso2server.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Test&lt;/h3&gt;
&lt;p&gt;After server startup, navigate to &lt;code class=&quot;language-text&quot;&gt;https://&amp;lt;IP_ADDRESS&amp;gt;:9443/dashboard&lt;/code&gt; and log in using &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; as both username and password. Click on the &lt;em&gt;“View Details”&lt;/em&gt; button on the &lt;em&gt;“Change Password”&lt;/em&gt; section and type your current password and enter the new password as one of the defective passwords and try on.&lt;/p&gt;
&lt;h2&gt;GitHub&lt;/h2&gt;
&lt;br&gt;
&lt;a class=&quot;ul-disabled&quot; href=&quot;https://github.com/athiththan11/Defective-Password-Validator&quot;&gt;
    &lt;div class=&quot;card&quot;&gt;
        &lt;div class=&quot;card-horizontal&quot;&gt;
            &lt;div class=&quot;card-body py-4 px-5&quot;&gt;
                &lt;h4 class=&quot;card-title mt-4&quot;&gt;Defective Password Validator&lt;/h4&gt;
                &lt;p&gt;Defective password validation using WSO2 Event Handlers extension&lt;/p&gt;
                &lt;footer class=&quot;blockquote-footer&quot;&gt;
                    &lt;small class=&quot;text-muted&quot;&gt;
                        athiththan11
                    &lt;/small&gt;
                &lt;/footer&gt;
            &lt;/div&gt;
            &lt;div class=&quot;img-square-wrapper&quot;&gt;
                &lt;img class=&quot;rounded mb-0&quot; width=&quot;220.172&quot; src=&quot;https://avatars3.githubusercontent.com/u/29927177?s=460&amp;amp;v=4&quot; alt&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/a&gt;
&lt;hr class=&quot;three--dots&quot;/&gt;</content:encoded></item></channel></rss>